DOC: Change Twitter to X in pandas maintenance (#60598)
PDEP-17: Backwards compatibility and deprecation policy (#59125)
DOC: Fix "kwargs" description for .assign() (#60588)

Fix "kwargs" description for .assign()

"kwargs" isn't a dict; the keyword arguments are *converted* to a dict.
Secondly, keyword arguments are strings by definition.
TST: Address matplotlib 3.10 deprecation of vert= (#60584)

* TST: Address matplotlib 3.10 deprecation of vert=

* Type in ._version

* Address other failures

* more test faillures

* Add more xfails

* mypy error
DEPR: Enforce deprecation of include_groups in groupby.apply (#60566)

* DEPR: Enforce deprecation of include_groups in groupby.apply

* Fixup

* Inline _apply
DOC: fix deprecation message for `is_period_dtype` (#60543)

[DOC] fix deprecation message

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
CI: Install nightly numpy on free threading build to avoid numpy 2.2.0 segfaults (#60582)

* Check if https://github.com/numpy/numpy/pull/27955 fixes free-threading build

* Add comments
DOC: Add hyperlink to ndarray.size in DataFrame.size docstring (#60368) (#60512)

* DOC: Add hyperlink to ndarray.size in DataFrame.size docstring (#60368)

* DOC: Update DataFrame.size docstring with numpy.ndarray.size reference

---------

Co-authored-by: John Paul Feliciano <felicijo@oregonstate.edu>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fix PR01,SA01 for pandas.errors.UndefinedVariableError (#60570)
DOC: fix PR07,RT03,SA01,ES01 for pandas.io.json.build_table_schema (#60571)
DOC: fix PR07,SA01,ES01 for pandas.plotting.scatter_matrix (#60572)
BUG: fix ValueError when printing a Series with DataFrame in its attrs (#60574)

* Add test

* BUG: fix ValueError when printing a Series with DataFrame in its attrs

* Add note
BUG: Fixed type annotations for read_sql_* functions. (#60577)
CLN: Remove deprecations of groupby.fillna in tests (#60565)
ENH: Support NamedAggs in kwargs in Rolling/Expanding/EWM agg method (#60549)

* ENH: Support NamedAggs in kwargs in Rolling/Expanding/EWM agg method

* Pre-commit fix

* Fix typing

* Fix typing retry

* Fix typing retry 2

* Update pandas/core/window/rolling.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Add type ignore

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fix SA01,ES01 for pandas.arrays.IntervalArray.length (#60556)

DOC: fix SA01 for pandas.arrays.IntervalArray.length
TST: filter possible RuntimeWarning in tests (#60553)

* Ignore possible RuntimeWarning in _hash_ndarray

* Revert "Ignore possible RuntimeWarning in _hash_ndarray"

This reverts commit 1c9a763a0a6e7b6ba4dcfd364a3fcb506883ba16.

* Just filter warnings instead

* Fix typos
CI: Ignore prompting in test-arm when apt-get installing (#60546)

* CI: Ignore prompting in test-arm when apt-get installing

* CI: Ignore prompting in test-arm when apt-get installing

* Skip the apt-get install all together
CI/TST: Use tm.external_error_raised for test_from_arrow_respecting_given_dtype_unsafe (#60544)
FIX: ruff checks in expressions/pytables (#60541)

* FIX: ruff checks in expressions/pytables

* swap condition

* more pre-commit
DOC: fix docstrings validation for pandas.core.groupby.DataFrameGroupBy.boxplot (#60509)

* fix docstrings validation for pandas.core.groupby.DataFrameGroupBy.boxplot

* fix trailing whitespace

* fix the error "pandas.Series.plot in `See Also` section does not need `pandas` prefix, use Series.plot instead."

* fix the error "pandas.DataFrame.boxplot in `See Also` section does not need `pandas` prefix, use DataFrame.boxplot instead."
BUG: Fix float32 precision issues in pd.to_datetime (#60510)

* BUG: Fix float32 precision issues in pd.to_datetime

* BUG: Add note to whatsnew
Add extended summary for fullmatch, match, pad, repeat, slice and slice_replace (#60520)

Add extended summary for fullmatch, match, pad, repeat, slice and slice_replace functions
DOC: Fix docstrings for errors (#60523)

* DOC: Fix docstrings for errors

* DOC: Fix docstrings for errors
DOC: fix broken link in Resampler.bfill (#60524)
DOC: Update variables a and b to names consistent with comment documentation (#60526)

* DOC: Fix title capitalization in documentation file

* DOC: Fix title capitalization in documentation files

* Update variables a and b to names consistent with comment documentation
BUG: Fix `ListAccessor` methods to preserve original name (#60527)

* fix: preserve series name in ListAccessor

* formatting

* add whatsnew v3.0.0 entry
updated v to conv_val in that function (#60518)
Update frame.rst (#60525)

Fix the navigation bar
DOC: Fix hyperlinks to NumPy methods in DataFrame.shape / DataFrame.ndim (#60516)
BUG: Fix bug in GroupBy that ignores group_keys arg for empty datafra… (#60505)

BUG: Fix bug in GroupBy that ignores group_keys arg for empty dataframes/series
doc: update dsintro.rst to remove a warring (#60507)

To solve a warning in issue DOC: DeprecationWarning on "Intro to data structures" user guide #60490.
I have checked other parts of the page, and there are no such warnings.
DOC: Fix docstrings errors SEM and GET_GROUP (#60475)

* DOC: fix sem

* Added sections

* DOC: fix See also

* Remove failed docstrings

* Fix: Matches the right format

* Pre commit format
BLD: Missing 'pickleshare' package when running 'sphinx-build' command (#60468)
BUG: ValueError when printing a DataFrame with DataFrame in its attrs (#60459)

* Add test

* replace concat with np

* Revert "replace concat with np"

This reverts commit b48fc35dc4cc4a5f413ad1b905d38408a796699d.

* Revert "Revert "replace concat with np""

This reverts commit 6b45ac5dd8c1f985f2eaa7ec376fbf6c9799b6c5.

* try fixing mypy error

* Add whatsnew

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Examples added for float_format in to_csv documentation (#60457)

* Checking for the first link added

* DOC: Added missing links to optional dependencies in getting_started/install.html

* DOC: Examples added for float_format in to_csv documentation

* Updated the float_format based on suggested change

* Changes made according to the review
DOC: DataFrameGroupBy.idxmin() returns DataFrame, documentation says Serie (#60474)

* DOC: modify examples and return in docs

* DOC: fix examples

* DOC: unify

* Whitespace

* Pre commit

* Double line breaks

* DOC: finally rann pre commit

* Remove unused notebook
Adds See Also sections to pandas.core.groupby.DataFrameGroupBy.sem, pandas.core.groupby.DataFrameGroupBy.nunique (#60480)

* Added See Also Sections

* pre-commit checks

* Update code_checks.sh

* Udpate code_checks.sh

* Update ci/code_checks.sh
DOC: Fix some docstring validations in pd.Series (#60481)

* DOC: Fix some docstring validations in pd.Series

* new circle
PERF: improve construct_1d_object_array_from_listlike (#60461)

* PERF: improve construct_1d_object_array_from_listlike

* use np.fromiter and update annotation
BUG: Fix stata bug post pre-commit update (#60476)
BUG: Fix pd.read_html handling of rowspan in table header (#60464)

* BUG: Fix pd.read_html handling of rowspan in table header

* BUG: Fix docstring error in _expand_colspan_rowspan

* BUG: Update return type for _expand_colspan_rowspan

* BUG: Address review and add not to whatsnew
BUG: Maintain column order in table method rolling (#60465)

* BUG: Maintain column order in table method rolling

* BUG: Add bug description to whatsnew/v3.0.0.rst
BUG: Fix keyerror bug when indexing multiindex columns with NaT values (#60463)

* BUG: Fix keyerror bug when indexing multiindex columns with NaT values

* BUG: Update whatsnew/v3.0.0.rst

* BUG: Move new test to test_multilevel.py
[pre-commit.ci] pre-commit autoupdate (#60470)

* [pre-commit.ci] pre-commit autoupdate

updates:
- [github.com/astral-sh/ruff-pre-commit: v0.7.2 → v0.8.1](https://github.com/astral-sh/ruff-pre-commit/compare/v0.7.2...v0.8.1)
- [github.com/MarcoGorelli/cython-lint: v0.16.2 → v0.16.6](https://github.com/MarcoGorelli/cython-lint/compare/v0.16.2...v0.16.6)
- [github.com/pre-commit/mirrors-clang-format: v19.1.3 → v19.1.4](https://github.com/pre-commit/mirrors-clang-format/compare/v19.1.3...v19.1.4)

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

* Apply ruff changes

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
upgrade to the latest version of PyData Sphinx Theme (#60430)

* upgrade to the latest version of PyData Sphinx Theme

upgrade PyData Sphinx Theme from 0.14 to the latest 0.16

it is needed to get the latest font-awesome pack to be able to display the new twitter-x icon.

https://github.com/pandas-dev/pandas/pull/60426

* update pydata-sphinx-theme to version 0.16

update pydata-sphinx-theme to version 0.16 and synchronize with environment.yml
DOC: fix SA01,ES01 for pandas.infer_freq (#60441)
DOC: fix SA01,ES01 for pandas.errors.IntCastingNaNError (#60442)
DOC: Added missing links to optional dependencies in getting_started/install.html (#60446)

* Checking for the first link added

* DOC: Added missing links to optional dependencies in getting_started/install.html
DOC: fix SA01,ES01 for pandas.arrays.IntegerArray (#60447)
DOC: fix SA01,ES01 for pandas.io.stata.StataWriter.write_file (#60449)
DOC: fix ES01 for pandas.set_option (#60452)
DOC: indices docstrings for DataFrameGroupBy, SeriesGroupBy, Resampler (#60444)
BUG: escape single quotes in index names when printing (#60251)
BUG: fix NameError raised when specifying dtype with string having "[pyarrow]" while PyArrow is not installed (#60413)

* Add test

* Fix

* Add note

* Update pandas/tests/dtypes/test_common.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* update

* Fix doc warning

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Add type hint for squeeze method (#60415)

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
String dtype: use ObjectEngine for indexing for now correctness over performance (#60329)
replace twitter->X (#60426)
DOC: Clarifying pandas.melt method documentation by replacing "massage" by "reshape" (#60420)

Clarifying pandas.melt method documentation by replacing "massage" by "reshape"

Meanwhile, "massage" is correct in a colloquial sense to mean transforming or reshaping data. This is far from accessible for a non-English speaker (as I am).

Using the term `reshape` or `transform` is more meaningful while being accurate.
DOC: fix docstring api.types.is_re_compilable (#60419)

* fix docstring api.types.is_re_compilable

* fix lint error
Bump pypa/cibuildwheel from 2.21.3 to 2.22.0 (#60414)

Bumps [pypa/cibuildwheel](https://github.com/pypa/cibuildwheel) from 2.21.3 to 2.22.0.
- [Release notes](https://github.com/pypa/cibuildwheel/releases)
- [Changelog](https://github.com/pypa/cibuildwheel/blob/main/docs/changelog.md)
- [Commits](https://github.com/pypa/cibuildwheel/compare/v2.21.3...v2.22.0)

---
updated-dependencies:
- dependency-name: pypa/cibuildwheel
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: Fix formatting of complex numbers with exponents (#60417)

Fix formatting of complex numbers with exponents
TST: Avoid hashing np.timedelta64 without unit (#60416)
DOC: fix SA01 for pandas.errors.NumExprClobberingError (#60401)
DOC: fix SA01,ES01 for pandas.errors.InvalidIndexError (#60400)
DOC: fix SA01,ES01 for pandas.errors.DuplicateLabelError (#60399)
DOC: fix SA01 for pandas.errors.OutOfBoundsTimedelta (#60402)
DOC: fix SA01,ES01 for pandas.errors.PossibleDataLossError (#60403)
Fix BUG: Cannot shift Intervals that are not closed='right' (the default) (#60407)

first
DOC: fix SA01 for pandas.errors.UnsortedIndexError (#60404)
fix issue #60410 (#60412)
BUG: Convert output type in Excel for MultiIndex with period levels (#60182)
DOC: Fixed spelling of 'behaviour' to 'behavior' (#60398)
CI/BUG: Remove `trim()` function on `comment-commands.yml` (#60397)

remove trim function on comment-commands.yml
DOC: fix SA01 for pandas.errors.ChainedAssignmentError (#60390)
ENH: add trim() to github.event.comment.body on issue_assign workflow job (#60359)

add trim() to github.event.comment.body on issue_assign workflow job
remove unnecessary trailing slashes from URLs (#60381)
update twitter to the new URL and logo (#60382)
DOC: Fix doc string for column C&C (#60386)

Fix doc string for column C&C
TST: Added test for pivot_table with int64 dtype and dropna parameter (#60374)

* added tests for int64

* pre-commit changes

* used pytest.mark.parametrize for expected_dtype
Fix Bug: last column missing formatting in Latex (#52218) (#60356)

* fix to_latex for multiindex

* add newline

* fix styling

* Update v2.3.0.rst

fix backticks

* update description.

* Apply suggested fix

Co-authored-by: JHM Darbyshire <24256554+attack68@users.noreply.github.com>

* move to v.3

* Update pandas/io/formats/style_render.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* spacing

* fix whitespace

* fix method name

---------

Co-authored-by: JHM Darbyshire <24256554+attack68@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
ENH: expose `to_pandas_kwargs` in `read_parquet` with pyarrow backend (#59654)

Co-authored-by: Joseph Kleinhenz <kleinhej@gene.com>
Co-authored-by: Xiao Yuan <yuanx749@gmail.com>
Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
DOC: fix docstring validation errors for pandas.Series.dt.freq (#60377)

* Added docs for Series.dt.freq and removed from ci/code_checks.sh

* Fix code style
DOC: Fix docstrings for SeriesGroupBy monotonic and nth (#60375)

* fix docstrings and remove from code_checks.sh

* fix SeriesGroupBy.is_monotonic_decreasing See Also section (decreasing -> increasing)

* remove DataFrameGroupBy.nth from code_checks.sh

---------

Co-authored-by: root <root@localhost.localdomain>
DOC: fix SA01 for pandas.errors.AttributeConflictWarning (#60367)

* DOC: fix SA01 for pandas.errors.AttributeConflictWarning

* DOC: fix SA01 for pandas.errors.AttributeConflictWarning
BUG: fix to_datetime with np.datetime64[ps] giving wrong conversion (#60342)
Update citing.md to correct the invalid URL (#60352)

Update citing.md

Correct the invalid URL on line 23 to a valid one.
TST: Add test for `pd.Timestamp` DST transition (#60346)
TST (string dtype): clean-up assorted xfails (#60345)
BUG (string dtype): fix handling of string dtype in interchange protocol (#60333)

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
CI: update fastparquet xfails for new release (#60337)
ENH: set __module__ on concat function in concat.py (#60334)

Co-authored-by: Aman Sharma <210100011@iitb.ac.in>
BUG: get_indexer rountripping through string dtype (#56013)

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
TST (string dtype): resolve xfails for frame fillna and replace tests + fix bug in replace for string (#60295)

* TST (string dtype): resolve xfails for frame fillna and replace tests + fix bug in replace for string

* fix fillna upcast issue

* fix reshaping of condition in where - only do for 2d blocks
TST: Add test for `pd.read_csv` date parsing not working with `dtype_backend="pyarrow"` and missing values (#60286)

* add test func

* remove io since StringIO is already imported

* add td.skip_if_no("pyarrow") from CI errors

* fix test

* improve expect_data; remove assert on "date" column dtype
DOC: Fix docstrings api.types.pandas_dtype (#60319)

* add api.types.pandas_dtype PR07, RT03, SA01 docstrings

* remove from code_checks.sh

* edit see also

---------

Co-authored-by: root <root@localhost.localdomain>
REF: centralize pyarrow Table to pandas conversions and types_mapper handling (#60324)
TST (string dtype): resolve all xfails in IO parser tests (#60321)
TST (string dtype): resolve xfails in pandas/tests/apply + raise TypeError for ArrowArray accumulate (#60312)
TST (string dtype): resolve xfails in common IO tests (#60320)
TST (string dtype): resolve all xfails in JSON IO tests (#60318)
TST: Add test for x-axis labels in subplot with `secondary_y=True` (#60294)

* TST: Add test for x-axis labels in subplots with secondary_y=True

TST: Add test for x-axis labels in subplots with secondary_y=True

TST: Add test for x-axis labels in subplots with secondary_y=True

TST: Add test for x-axis labels in subplots with secondary_y=True

TST: Add test for x-axis labels in subplots with secondary_y=True

* Remove pytest.mark.slow

---------

Co-authored-by: Jason Mok <jasonmok@Jasons-Air.attlocal.net>
BUG (string dtype): let fillna with invalid value upcast to object dtype (#60296)

* BUG (string dtype): let fillna with invalid value upcast to object dtype

* fix fillna limit case + update tests for no longer raising
DOC: Update from_records docstring to not mention DataFrame as valid input (#60310)

* DOC: Update from_records docstring to comply with numpydoc style (GH#60307)

* Update pandas/core/frame.py

Added "or" before the last item in the enumeration for improved clarity in the from_records docstring.

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>

---------

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
BUG: Disabling pandas option `display.html.use_mathjax` has no effect; add `mathjax_ignore` to fix (#60311)

* add bugfix to whatsnew

* append "mathjax_ignore" in "tex2jax_ignore" related funcs

* add "mathjax_ignore" on existing tests

* remove old table_attr
TST (string dtype): resolve all easy xfails in pandas/tests/groupby (#60314)
String dtype: enable in SQL IO + resolve all xfails (#60255)
DOC: Make document merge_cells=columns in to_excel (#60277)

* DOC: Make document merge_cells=columns in to_excel

* DOC: Make document merge_cells=columns in to_excel

* Modify the description
BUG: Don't merge Excel cells to a single row with merge_cells=False (#60293)

* BUG: Don't merge Excel cells to a single row with merge_cells=False

* Cleanup comment

* Improve test
DOC: Additions/updates documentation for df.interpolate() methods #60227 (#60247)

* DOC: Improve documentation for df.interpolate() methods #60227

* DOC: Fix rounding in DataFrame.interpolate index method example

* Fix: Use index method for linear interpolation with non-sequential index

* Refactor: Rename DataFrame variable for non-sequential index

* Refactor: Added Example for non-sequential dataframe at the end of docstring

* CLN: Remove trailing whitespace in docstring and adding comment

* DOC: Revert added non-sequential index example in interpolate() docstring

* Update pandas/core/generic.py

Co-authored-by: Richard Shadrach <45562402+rhshadrach@users.noreply.github.com>

* Update pandas/core/generic.py

Co-authored-by: Richard Shadrach <45562402+rhshadrach@users.noreply.github.com>

* Trigger CI

* Trigger CI

---------

Co-authored-by: anishkarki <swordfish@DESKTOP-F6H5D41>
Co-authored-by: Richard Shadrach <45562402+rhshadrach@users.noreply.github.com>
BUG (string dtype): replace with non-string to fall back to object dtype (#60285)

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
TST: Add test for visibility of x label and xtick labels for `plot.hexbin` (#60253)

TST: Add test for visibility of x label and xtick labels for plot.hexbin

TST: Add test for visibility of x label and xtick labels for plot.hexbin

TST: Add test for visibility of x label and xtick labels for plot.hexbin

TST: Add test for visibility of x label and xtick labels for plot.hexbin

TST: Add test for visibility of x label and xtick labels for plot.hexbin

Minimize size of test data

Co-authored-by: Jason Mok <jasonmok@Jasons-Air.attlocal.net>
CI: Add Windows wheels for the free-threaded build (#60146)

Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
ENH: set __module__ on isna and notna (#60271)
BUG: `read_csv` with chained fsspec TAR file and `compression="infer"` (#60100)
DOC: fix SA01,ES01 for groups method of groupby and resampler (#60252)
ENH (string dtype): convert string_view columns to future string dtype instead of object dtype in Parquet/Feather IO (#60235)

* ENH (string dtype): convert string_view columns to future string dtype instead of object dtype in Parquet IO

* move test to feather

* fixup
DOC: fix SA01 for pandas.errors.DataError (#60279)
Fix docstring timestamps (Issue #59458) (#59688)


---------

Co-authored-by: Marco Gorelli <33491632+MarcoGorelli@users.noreply.github.com>
ENH: set __module__ on merge functions in merge.py (#60266)
ENH: set __module__ on  `read_*` functions in readers.py (#60265)
ENH: set __module__ on `timedelta_range` (#60267)
ENH: set __module__ on NamedAgg / SeriesGroupBy / DataFrameGroupBy (`pandas.core.groupby.generic` classes) (#60268)
ENH: set __module__ on `date_range` and `bdate_range` (#60264)
ENH: Set __module__ on StringDtype (#60261)
ENH: set `__module__` on `Series` (#60263)
Update mypy version from 1.11.2 to 1.13.0 (#60260)
TST (string dtype): resolve xfails in pandas/tests/copy_view (#60245)
DOC: fix PR07,SA01,ES01 for pandas.arrays.SparseArray (#60250)
DOC: fix SA01,ES01 for pandas.arrays.IntervalArray.right (#60249)
BUG (string dtype): correctly enable idxmin/max for python-storage strings (#60242)
TST (string dtype): resolve xfail in arrow interface tests (#60241)
DEPR: revert enforcing the deprecation of exposing blocks in core.internals and deprecate with FutureWarning (#58715)
TST (string dtype): fix groupby xfails with using_infer_string + update error message (#59430)

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
ENH: set __module__ for Dtype and Index classes (#59909)

Co-authored-by: Amir <acb@REVWKS049.d2sim7.loc>
Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
TST (string dtype): resolve xfails in pandas/tests/series (#60233)

* TST (string dtype): resolve xfails in pandas/tests/series

* a few more

* link TODO to issue

* fix for non-future mode
ENH: set __module__ for pandas scalars (Timestamp/Timedelta/Period) (#57976)

Co-authored-by: Yinon Horev <yinon.horev@pon.com>
Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
BUG: Fix #59429 stacked bar label position (#60211)
BUG: fix DataFrame(data=[None, 1], dtype='timedelta64[ns]') raising ValueError (#60081)
BUG: Fix to_excel storing decimals as strings instead of numbers (issue #49598) (#60230)

* Fix issue 50174

* Add release notes

* Use correct github issue number
ERR (string dtype): harmonize setitem error message for python and pyarrow storage (#60219)
BUG (string dtype): fix qualifier in memory usage info (#60221)
TST: add extra test case for np.array(obj, copy=False) read-only behaviour (#60191)
TST: Add test for `feather` I/O with historical out-of-bounds `datetime` values (#60209)

Co-authored-by: Jason Mok <jasonmok@Jasons-Air.attlocal.net>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
ENH (string dtype): accept string_view in addition to string/large_string for ArrowStringArray input (#60222)
TST (string dtype): avoid explicit object dtype Index in fixture data (#60217)

* TST (string dtype): avoid explicit object dtype Index in fixture data

* test updates
BUG (string dtype): fix escaping of newline/tab characters in the repr (#60215)

* BUG (string dtype): fix escaping of newline/tab characters in the repr

* parametrize existing test for all string dtypes

* remove xfail
add warning about setting max_rows/max_columns to 'None' (#60216)
STY: Fix lint error in test_where.py (#60206)
TST: Skip flaky offset test case on WASM (#60186)

* TST: Skip flaky offset test case on WASM

* Check tzinfo exists

* Check for zoneinfo directly

* Undo original change

* Try installing tzdata to fix

* Revert "Try installing tzdata to fix"

This reverts commit 6698cd5de18a9a4cf03dc1ae86ffe8a10461eee5.

* Revert "Undo original change"

This reverts commit 5bc727258e669050cb0b30e2d652fbd85e86e8da.
BUG: fix #59950 handle duplicate column names in dataframe queries (#59971)

fix: #59950 handle duplicate column names in dataframe queries

- Fixed an issue where `Dataframe.query()` would throw an unexpected
  error

- The error was caused by `self.dtypes[k]`

- Adjusted the behavior to match the behavior prior to pandas version

- Added tests to ensure that `Dataframe.query()` works as expected

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
TST (string dtype): update all tests in tests/frame/indexing (#60193)
BUG (string dtype): fix where() for string dtype with python storage (#60195)
BUG: fix inspect usage when pyarrow or jinja2 is not installed (#60196)

* BUG: fix inspect usage when pyarrow or jinja2 is not installed

* add whatsnew note
TYP/COMPAT: don't use Literal for Series.ndim to avoid tab completion bug in IPython (#60197)
BUG: Frequency shift on empty DataFrame (#60172)

* freq shift

* Save local changes before merging
TST (string dtype): avoid hardcoded object dtype for columns in datetime_frame fixture (#60192)
BUG: Fix copy semantics in ``__array__`` (#60046)

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
DOC: added see also for series.dt.round in series.round (#60187)

added see also for series.dt.round in series.round
TST (string dtype): fix invalid comparison error message and update test (#60176)
[pre-commit.ci] pre-commit autoupdate (#60185)

updates:
- [github.com/astral-sh/ruff-pre-commit: v0.6.9 → v0.7.2](https://github.com/astral-sh/ruff-pre-commit/compare/v0.6.9...v0.7.2)
- [github.com/asottile/pyupgrade: v3.17.0 → v3.19.0](https://github.com/asottile/pyupgrade/compare/v3.17.0...v3.19.0)
- [github.com/pre-commit/mirrors-clang-format: v19.1.1 → v19.1.3](https://github.com/pre-commit/mirrors-clang-format/compare/v19.1.1...v19.1.3)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
TST (string dtype): un-xfail string tests specific to object dtype (#59433)

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
TST (string dtype): remove xfails in extension tests + fix categorical/string dispatch (#60134)

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Typo fix in "comparison_with_r (#60177)
DOC: Update contributing docs for Windows build tools instructions (#60170)

* DOC: Update Windows build tools instructions for VS Build Tools 2022

* fix trailing whitespaces
DOC: fix SA01,ES01 for pandas.arrays.IntervalArray.left (#60168)
BUG: Fixes pd.merge issue with columns of dtype numpy.uintc on windows (#60145)

* bug fix for numpy.uintc in merge operations on windows

Added pytest test case to verify correct behavior with numpy.uintc dtype

* Formatting changes after running pre-commit

* Added tests for numpy.intc

* added whatsnew note

* pre-commit automatic changes and also made changes to test_merge.py file to make pandas namespace consistent

* removed comment

* added the deleted whatsnew note back

* better whatsnew note

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fix docstring of DataFrame.to_latex, double curly braces to single (#60165)
CI: fix wrong syntax in CI env yml files (mamba 2.0 compat) (#59910)

* fix wrong syntax in CI env yml files

* fix other files

* remove micromamba pin
ENH: numba apply supports positional arguments passed as **kwargs (#58995)

* add *args for raw numba apply

* add whatsnew

* fix test_case

* fix pre-commit

* fix test case

* add *args for raw=False as well; merge tests together

* add prepare_function_arguments

* fix mypy

* update get_jit_arguments

* add nopython test in `test_apply_args`

* fix test

* fix pre-commit

* modify prepare_function_arguments

* add tests

* add tests

* add whatsnew

* compat for python 3.12

* pre-commit

* compat for python 3.12

* update doc; use kw-only

* add more tests

* update whatsnew

* pre-commit

* move the tests to test_numba.py

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: preserve (object) dtype in factorize (#60118)

* BUG: preserve (object) dtype in factorize

* add fallback for float16
String dtype: deprecate the pyarrow_numpy storage option (#60152)

* String dtype: deprecate the pyarrow_numpy storage option

* add pyarrow skip
BUG: Remove incorrect check on value label length (#60156)

* BUG: Remove incorrect check on value label length

Remove 32,000 limit on value limit check since this applies
to the number of variable, not the length of the value labels

closes #60107

* TST: Remove incorrect test

Remove test of the error that was being incorrectly raised
CI: remove uninstall of nomkl (#60150)
TST (string dtype): update tests/reductions tests (#60133)
String dtype: implement sum reduction (#59853)
TST: update frame method quantile tests (#59875)

* TST (string dtype): update frame method quantile tests

* fixup
CI: remove usage of legacy NPY_PROMOTION_STATE (#60144)
TST: Retyping of categorical column with NaN (#60112)

* consistent name usage

* changed to numpy array of integers

* Remove redundant assert

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
CI/TST: fix parquet tz test returning pytz fixed offset (pyarrow 18) (#60143)

* CI/TST: fix parquet tz test returning pytz fixed offset (pyarrow 18)

* only convert to pytz if installed
DOC: Fix title capitalization in documentation files (#32550) (#59972)

Corrected title capitalization in various .rst files to match the
standard of capitalizing only the first word, unless a term like
DataFrame or Series is involved.

Ran the  script to find and
correct heading issues in the following files:
- doc/source/user_guide/timedeltas.rst
- doc/source/whatsnew/v0.7.0.rst
- doc/source/whatsnew/v0.23.4.rst
- (… and so on)

Fixes part of issue #32550.
Bump pypa/cibuildwheel from 2.21.0 to 2.21.3 (#60035)

Bumps [pypa/cibuildwheel](https://github.com/pypa/cibuildwheel) from 2.21.0 to 2.21.3.
- [Release notes](https://github.com/pypa/cibuildwheel/releases)
- [Changelog](https://github.com/pypa/cibuildwheel/blob/main/docs/changelog.md)
- [Commits](https://github.com/pypa/cibuildwheel/compare/v2.21.0...v2.21.3)

---
updated-dependencies:
- dependency-name: pypa/cibuildwheel
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
PERF: faster _coerce_to_data_and_mask() for astype("Float64") (#60121)

* add fast path in _coerce_to_data_and_mask

* update whatsnew

* pre-commit
DOC: to_latex braces in headers must be escaped (#60063) (#60103)
BUG/TST (string dtype): fix and update tests for Stata IO (#60130)
DOC: fix broken link on team webpage (#60141)

rename link to about/governance.html
DOC: fix PR07,SA01 for pandas.api.types.is_iterator (#60142)
DOC: fix RT03,SA01,ES01 for pandas.set_eng_float_format (#60135)
DOC: fix docstring of timedaltas.ceil (#60047)

* fix docstring of timedaltas.cela

* Update pandas/_libs/tslibs/timedeltas.pyx

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
TST (string dtype): add explicit object vs str dtype to index fixture (#60116)
DEPR: Change stacklevel to 2 in DataFrame(mgr) deprecation (#58694)
TST (string dtype): duplicate pandas/tests/indexes/object tests specifically for string dtypes (#60117)
BLD: relax meson/meson-python requirements (#60089)

* relax meson/meson-python requirements

This makes bugfixes from later meson/meson-python fixes available
to build pandas. For eg: python 3.13t support in meson, needs an
up-to-date version of meson.

* Drop upper bound for meson-python
DOC: Add Timedelta accepting float value (#60058)

* DOC: Solution for issue #60044

* reduce characters for each line

* DOC: Make the value parameter of pandas.Timedelta can accept float

* Change the expression

* environment update

* environment update
docs: add marimo to ecosystem.md (#60051)
DOC: fix docstring for DataFrame.round() (#60040)

update
Add information about code coverage to docs (#60029)

* add information about code coverage to docs

* linting
DOC: fix RT03,SA01,ES01 for pandas.json_normalize (#60032)
DOC: fix SA01 for pandas.errors.UnsupportedFunctionCall (#60072)
DOC: fix SA01,ES01 for pandas.tseries.offsets.SemiMonthBegin (#60060)

* DOC: fix SA01 for pandas.tseries.offsets.SemiMonthBegin

* DOC: fix ES01 for pandas.tseries.offsets.SemiMonthBegin
DOC: fix SA01,ES01 for pandas.core.resample.Resampler.sum (#60037)
DOC: fix PR01,SA01,ES01 for pandas.api.types.is_integer (#60034)
DOC: fix SA01 for pandas.errors.CSSWarning (#60030)
DOC: fix SA01 for pandas.errors.OptionError (#60031)
ENH: Improve error mesage verbosity in string accessor (#59900)
DOC: fix SA01 for pandas.errors.PossiblePrecisionLoss (#60061)
CLN: fix pre-commit stage names (#60076)
DOC: fix RT03,SA01,ES01 for pandas.core.resample.Resampler.__iter__ (#60033)
CI/TST: Update pyreadstat tests and pin xarray on CI (#60109)
DOC: fix SA01 for pandas.core.resample.Resampler.ohlc (#60036)
DOC: Fix title capitalization in documentation files (#32550) (#60021)

* DOC: Fix title capitalization in documentation file

* DOC: Fix title capitalization in documentation files
DOC: Fix `GroupBy.ffill()` doc reference to rows (#60019)

Fix `groupby.ffill()` doc reference to rows
STY: Bump pyright, pyupgrade and mypy for new PEP-696 syntax (#60006)

* STY: Bump pyright, pyupgrade and mypy for new PEP-696 syntax

* Apply update

* fix & ignore failures

* another ignore
Bump pypa/cibuildwheel from 2.20.0 to 2.21.0 (#59816)

Bumps [pypa/cibuildwheel](https://github.com/pypa/cibuildwheel) from 2.20.0 to 2.21.0.
- [Release notes](https://github.com/pypa/cibuildwheel/releases)
- [Changelog](https://github.com/pypa/cibuildwheel/blob/main/docs/changelog.md)
- [Commits](https://github.com/pypa/cibuildwheel/compare/v2.20.0...v2.21.0)

---
updated-dependencies:
- dependency-name: pypa/cibuildwheel
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
TST (string dtype): resolve all infer_string TODO/xfails in pandas/tests/arrays (#59686)
String dtype: propagate NaNs as False in predicate methods (eg .str.startswith) (#59616)
DOC: fix SA01,ES01 for pandas.errors.CategoricalConversionWarning (#60011)
Programming Language :: Python :: 3.13 added to pyproject.toml (#59985)

* Programming Language :: Python :: 3.13 added to pyproject.toml

* pyproject.toml updated successfully
DOC: fix RT03,SA01,ES01 for pandas.io.stata.StataReader.variable_labels (#60008)
[pre-commit.ci] pre-commit autoupdate (#59998)

* [pre-commit.ci] pre-commit autoupdate

updates:
- [github.com/astral-sh/ruff-pre-commit: v0.5.0 → v0.6.9](https://github.com/astral-sh/ruff-pre-commit/compare/v0.5.0...v0.6.9)
- [github.com/jendrikseipp/vulture: v2.11 → v2.13](https://github.com/jendrikseipp/vulture/compare/v2.11...v2.13)
- [github.com/pre-commit/pre-commit-hooks: v4.6.0 → v5.0.0](https://github.com/pre-commit/pre-commit-hooks/compare/v4.6.0...v5.0.0)
- [github.com/asottile/pyupgrade: v3.16.0 → v3.17.0](https://github.com/asottile/pyupgrade/compare/v3.16.0...v3.17.0)
- [github.com/sphinx-contrib/sphinx-lint: v0.9.1 → v1.0.0](https://github.com/sphinx-contrib/sphinx-lint/compare/v0.9.1...v1.0.0)
- [github.com/pre-commit/mirrors-clang-format: v18.1.8 → v19.1.1](https://github.com/pre-commit/mirrors-clang-format/compare/v18.1.8...v19.1.1)

* Update .pre-commit-config.yaml

* fix style.ipynb, ignore some pylint

* pyupgrade

* Revert "pyupgrade"

This reverts commit b539c71009ff15769c501cf170ed9894a49ddcfb.

* don't bump pyupgrade

* Typo in random call

* Delete hidden cell

* Undo max/min rule from ruff

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Fix Styler docstring (#60001)

* Fix Styler docstring

* Remove blankspaces
DOC: Refactor _create_delegator_method using functools (#59878)

* add tag dt.to_timestamp, series.rst

* add doc strings for dt.to_timestamp

* update datetimes.py

* refactor _create_delegator_method to use functools wrap

* changes to accessor.py

* remove from code_checks.sh

* update code_checks.sh

* update code_checks.sh

* rewrite functools, adjust unit tests

* update change log

* remove dup entry

* update code_checks.sh

* update

* revert all dt related changes

* update series.rst

* update imports

* format use of functools import
Typing: More precise NaT stub (#60002)

* more precise NaT stub

* ruff format

* updated == and != to return literal
Doc: Update docstring for `dummy_na` parameter (#60000)

* update docstring for dummy_na parameter

* Update pandas/core/reshape/encoding.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
REGR: groupby.value_counts with all NA values (#59999)

* REGR: groupby.value_counts with all NA values

* Better implementation
Typing: Added missing methods to `NaTType` stub (#59995)

added missing methods to NaTType stub
DOC: fix RT03,SA01,ES01 for pandas.plotting.lag_plot (#59990)
DOC: fix RT03,SA01,ES01 for pandas.io.stata.StataReader.value_labels (#59991)
Bump mamba-org/setup-micromamba from 1 to 2 (#59988)

Bumps [mamba-org/setup-micromamba](https://github.com/mamba-org/setup-micromamba) from 1 to 2.
- [Release notes](https://github.com/mamba-org/setup-micromamba/releases)
- [Commits](https://github.com/mamba-org/setup-micromamba/compare/v1...v2)

---
updated-dependencies:
- dependency-name: mamba-org/setup-micromamba
  dependency-type: direct:production
  update-type: version-update:semver-major
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
DOC: Fix typos in plotting.table (#59986)

Fix typos in pandas.plotting.table docstring.
DOC: fix SA01 for pandas.errors.InvalidVersion (#59984)
DOC: fix SA01 for pandas.errors.SpecificationError (#59983)
DOC: fix SA01 for pandas.arrays.DatetimeArray (#59982)
DOC: fix PR01,SA01,ES01 for pandas.api.types.is_float (#59981)
DOC: fix PR07,SA01,ES01 for pandas.Series.sparse.from_coo (#59980)
API: value_counts to consistently maintain order of input (#59745)

* API: value_counts to consistently maintain order of input

* Docs

* Cleanup

* Test & docs fixups

* Refine whatsnew

* Refine whatsnew
DOC: fix SA01, ES01 for pandas.testing.assert_extension_array_equal (#59975)
BUG: fix to_numeric raises TypeError for Timedelta and Timestamp scalar (#59974)

* BUG: fix to_numeric raises TypeError for Timedelta and Timestamp scalar

* Add whatsnew
DOC: fix SA01, ES01 for pandas.io.stata.StataReader.data_label (#59962)
DOC: fix RT03,SA01 for pandas.period_range (#59958)
BUG: CSS strings truncated at ":" (#59720)

* second item in tuple is no longer truncated at first colon

https://github.com/pandas-dev/pandas/issues/59623

* added testcase for maybe_convert_css_to_tuples

#59623

* maybe_convert_css_to_tuples() raises on strings without ":"

* fixed implicit str concatination

* Fixed raise on empty string

* Update test_style.py

* attr:; -> ("attr","")

Same behavior as before patch

* add test for "attr:;", ie empty value

* str concatenation in the test broke mypy

* revert explicit str concat

* Invalidarg patch black (#1)

* black test_style

* Update style_render.py

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: Fix SparseFrameAccessor.to_dense return type (#59967)

* BUG: Fix SparseFrameAccessor.to_dense return type

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
BUG: fix treatment of NaNs when .apply() function is used on categorical columns. (#59966)

* remove action=ignore for .apply() on cat dtype

* add PR reference in comments

* fix pytest linting

* refac failing test_series_apply.py

* Trigger CI

* changes post review

* rephrase change log
BUG: fix nbsp for html formatting (#59964)

* nbsp for strings

* update changes post review
BUG: fix html float display (#59930)

* fix html display float/strings

* add test under io, update whatsnew

* fix linting

* changes to fix floats only

* Revert "fix linting"

This reverts commit 1061442e0a1cf8f745b0863762f2aa023d388336.

* test script for float format

* remove nbsp implementation, keep floats

* Trigger CI

* implement changes post review

* lint check

* update test_formats.py

* rfc test_format.py

* update test cases
CLN: indexes/base.py (#59928)

CLN: indexes.base.py
BUG: pd.eval with engine="numexpr" fails with float division (#59907)

* BUG: pd.eval with engine="numexpr" fails with float division

* Add skip

* Add whatsnew

* update
DOC: Fix docstring of pandas.Series.compare list indent formatting (#59911)

Co-authored-by: rdzantoine.pro@gmail.com <rdzantoine.pro@gmail.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Include Python.h first (#59929)
CI: Run jobs on 2.3.x branch (#59939)
BUG: groupby().any() returns true for groups with timedelta all NaT (#59782)
DOC: Fix intro to datastructures Series constructor behavior (#59793)
BLD: Fix armv7 build (#59906)
Fix typo in 10min.rst (#59921)
Fix docstring Timedelta.to_timedelta64 SA01, Timedelta.total_seconds SA01, Timedelta.view SA01 (#59719)

* Add 'See Also' section for Timedelta.to_timedelta64

* Fix SA01 for Timedelta.total_seconds()

* Fix SA01 for Timedelta.view

* Add space

* Fix test_nat_doc_strings

* Revert "Fix test_nat_doc_strings"

This reverts commit 9d0965805daa2dbd02eaa1878858cfb0eb97df02.

* Match doc of total_seconds method in nattype.pyx
DOC: fix SA01, ES01 for pandas.errors.OutOfBoundsDatetime (#59925)
DOC: fix SA01, ES01 for pandas.errors.ClosedFileError (#59924)
DOC: fix pandas.TimedeltaIndex.to_pytimedelta RT03,SA01 (#59914)

* update docstrings

* Update pandas/core/arrays/timedeltas.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Separate out examples - pandas.str.is methods (#59850)
DOC: the table name should be `air_quality_parameters` rather than `air_quality_parameters_name` (#59918)
DOC: fix docstrings for multiple api.types methods (#59920)

fix docstrings for api.types
DOC: fix RT03, ES01 for pandas.core.groupby.SeriesGroupBy.agg and pandas.core.groupby.SeriesGroupBy.aggregate (#59898)

* DOC: fix RT03, ES01 for pandas.core.groupby.SeriesGroupBy.agg

* DOC: remove _agg_template_series

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
Co-authored-by: rhshadrach <rhshadrach@users.noreply.github.com>

* DOC: remove _agg_template_series

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
Co-authored-by: rhshadrach <rhshadrach@users.noreply.github.com>

* DOC: remove _agg_template_seris

---------

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
Co-authored-by: rhshadrach <rhshadrach@users.noreply.github.com>
DOC: fix RT03, ES01 for pandas.core.groupby.DataFrameGroupBy.agg and pandas.core.groupby.DataFrameGroupBy.aggregate (#59869)

* DOC: add double backticks for sphinx compatibility

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>

* DOC: remove _agg_template_frame

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
Co-authored-by: rhshadrach <rhshadrach@users.noreply.github.com>

* DOC: fix RT03, ES01 for pandas.core.groupby.DataFrameGroupBy.aggregate

---------

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
Co-authored-by: rhshadrach <rhshadrach@users.noreply.github.com>
DOC: fix SA01, ES01 for pandas.Series.sparse.npoints (#59896)

* DOC: fix SA01, ES01 for pandas.Series.sparse.npoints

* Update pandas/core/arrays/sparse/array.py
CI: Pin micromamba to 1.x (#59912)
DOC: Recommend conda from miniforge for contributing environment (#59894)
CI/TST: Check for tzset in set_timezone (#59893)

* CI/TST: Check for tzset in set_timezone

* adjust test message
DOC: Emphasize team managed pandas in installation docs (#59822)

* DOC: Emphasize team managed pandas in installation docs

* grammar
REF: pass dtype explicitly to _from_sequence (#59774)
REF: pass dtype explicitly to _from_sequence inside pd.array (#59773)

REF: pass dtype explicitly to _from_sequence
ENH: Add kwargs to Series.map (#59843)

Co-authored-by: Naresh Kumar <naresh.kumar@snowflake.com>
String dtype: allow string dtype for non-raw apply with numba engine (#59854)

* String dtype: allow string dtype for non-raw apply with numba engine

* remove xfails

* clean-up
DOC: Fix inconsistent and incomplete documentation of `pandas.eval` (#59855)

* Improve content and organisation of eval documentation

* Link to pd.eval in pd.DataFrame.query

* Correct name for `//` is floor division

* Include arctan2

Co-authored-by: Xiao Yuan <yuanx749@gmail.com>

---------

Co-authored-by: Xiao Yuan <yuanx749@gmail.com>
DOC: fix SA01, ES01 for pandas.errors.EmptyDataError (#59872)
DOC: fix SA01, ES01 for pandas.Timedelta.to_timedelta64 (#59860)

* DOC: fix SA01, ES01 for pandas.Timedelta.to_timedelta64

* DOC: add double backticks for sphinx compatibility

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>

---------

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
DOC: fix SA01, ES01 for pandas.RangeIndex.step (#59857)

* DOC: fix SA01, ES01 for pandas.RangeIndex.step

* DOC: add double backticks for sphinx compatibility

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>

---------

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
DOC: fix SA01, ES01 for pandas.arrays.IntervalArray.mid (#59867)

* DOC: fix SA01, ES01 for pandas.arrays.IntervalArray.mid

* DOC: add double backticks for sphinx compatibility

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>

---------

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
DOC: fix RT03, ES01 for pandas.core.resample.Resampler.ffill (#59871)
DOC: fix RT03 for pandas.date_range (#59868)
DOC: fix SA01, ES01 for pandas.api.types.is_object_dtype (#59865)
DOC: fix SA01 for pandas.arrays.BooleanArray (#59866)
BUG: Fix from_records() column reorder issue, if columns!=None use passed param (#59717) (#59809)

* BUG: Fix columns param reorder issue - if columns!=None, use passed param (#59717)

* Add tests for to_arrays()

* Fix import order with isort

* fix sort

* Update datatype to int32

* Fis test

* Revert commit

* Add test for DaaFrame.from_records()

* Apply comments

* Delete test_to_arrays.py
typo (#59852)
DOC: fix SA01 for pandas.api.types.is_list_like (#59864)
DOC: fix SA01 for pandas.api.types.is_interval_dtype (#59863)
String dtype: map builtin str alias to StringDtype (#59685)

* String dtype: map builtin str alias to StringDtype

* fix tests

* fix datetimelike astype and more tests

* remove xfails

* try fix typing

* fix copy_view tests

* fix remaining tests with infer_string enabled

* ignore typing issue for now

* move to common.py

* simplify Categorical._str_get_dummies

* small cleanup

* fix ensure_string_array to not modify extension arrays inplace

* fix ensure_string_array once more + fix is_extension_array_dtype for str

* still xfail TestArrowArray::test_astype_str when not using infer_string

* ensure maybe_convert_objects copies object dtype input array when inferring StringDtype

* update test_1d_object_array_does_not_copy test

* update constructor copy test + do not copy in maybe_convert_objects?

* skip str.get_dummies test for now

* use pandas_dtype() instead of registry.find

* fix corner cases for calling pandas_dtype

* add TODO comment in ensure_string_array
DOC: fix SA01, ES01 for pandas.tseries.offsets.SemiMonthEnd (#59856)

DOC: fix SA01 for pandas.tseries.offsets.SemiMonthEnd
DOC: fix SA01 for pandas.Series.sparse.fill_value (#59858)
DOC: fix SA01, ES01 for pandas.Series.sparse.sp_values (#59859)
DOC: fix SA01, ES01 for pandas.api.types.is_float_dtype (#59861)
DOC: fix SA01 for pandas.api.types.is_int64_dtype (#59862)
BUG: Fix precision loss in read_json (#59284)
DOC: fix RT03 for pandas.core.groupby.DataFrameGroupBy.hist (#59870)
BLD: Build wheels for Python 3.13 on aarch64 as well (#59847)

* BLD: Build wheels for Python 3.13 on aarch64 as well

* some fixups

* another typo
BLD: Final release prep for 2.2.3 (#59840)

* BLD: Final release prep

* change back perms

* debug

* try to fix license addition

* silence stable version warning?
BLD/RLS: build wheels with released numpy/cython for Python 3.13 (#59819)
BLD: Fix bad Cython annotation (#59836)
DOC: Adding ArcticDB to the ecosystem.md page (#59830)

* adding ArcticDB to the ecosystem.md page

* Update web/pandas/community/ecosystem.md

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* making pandas lower case

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fix SA01,ES01 for pandas.tseries.offsets.WeekOfMonth (#59834)
CI: Debug failing ARM builds (#59813)

* try bumping cython?

* maybe pinning numpy helps?

* skip tests

* Update test_sparse.py

* go for green

* Update test_sparse.py

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
BUG: Remove np._get_promotion_state usage (#59818)
String dtype: allow string dtype in query/eval with default numexpr engine (#59810)

String dtype: allow string dtype in query/eval with default mumexpr engine
DOC: fix SA01 for pandas.errors.MergeError (#59805)

* DOC: fix SA01 for pandas.errors.MergeError

* DOC: fix SA01 for pandas.errors.MergeError

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>

---------

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
DOC: add whatsnew for v2.2.3 (#59811)

* DOC: add whatsnew for v2.2.3

* fix warning

---------

Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>
BUG (CoW): fix reference tracking in replace_list with None (#59807)
WEB: update list of (in)active core devs (#59808)
DOC: fix SA01 for pandas.arrays.FloatingArray (#59804)
DOC: fix SA01 for pandas.api.types.is_integer_dtype (#59803)
DOC: fix SA01 for pandas.api.types.is_array_like (#59802)
DOC: fix SA01,ES01 for pandas.Timedelta.total_seconds (#59800)

* DOC: fix SA01,ES01 for pandas.Timedelta.total_seconds

* DOC: fix SA01,ES01 for pandas.Timedelta.total_seconds
DOC: fix SA01,ES01 for pandas.PeriodDtype.freq (#59796)
Update ExtensionArray.interpolate to remove outdated method of pad (#59798)
DOC: fix SA01,ES01 for pandas.Timedelta.components (#59799)
DOC: fix SA01 for pandas.NA (#59787)
String dtype: fix isin() values handling for python storage (#59759)

* String dtype: fix isin() values handling for python storage

* address feedback
BUG/API (string dtype): return float dtype for series[str].rank() (#59768)

* BUG/API (string dtype): return float dtype for series[str].rank()

* update frame tests

* add whatsnew

* correct whatsnew note
DOC: Update GroupBy docstrings with See Also requirements (#59748)

* update groupby docstrings

* fix function name
BUG: avoid triggering numpy deprecation warning in assert functions for nested array with empty array/list (#59778)
Fix/na_values_GH59303 (#59755)

* fixed GH#59303

* pre-commit done

* updated v3.0.0.rst

* sort my entry in v3.0.0.rst

* changes based on comments on PR

* reformat long lines

* reformat test_na_values.py

* reformat test_na_values.py again
REF (string): de-duplicate ArrowStringArray methods (#59555)
DOC: Add docstring for Extensionarray interpolate (#59749)

* Update docstring of Extensionarray.interpolate

* Remove Extensionarray.interpolate from code_checks.sh

* Resolving pre-commit errors

* Resolving pre-commit errors 2

* Resolved ruff formatting error

* Fix issues after review
String dtype: remove fallback Perfomance warnings for string methods (#59760)
BUG (string): Series.str.slice with negative step (#59724)

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
ENH: Add dtype argument to StringMethods get_dummies() (#59577)
TST (string dtype): remove usage of 'string[pyarrow_numpy]' alias (#59758)
BUG (string dtype): fix inplace mutation with copy=False in ensure_string_array (#59756)

* BUG (string dtype): fix inplace mutation with copy=False in ensure_string_array

* update
DOC: Fix pandas.Series.dt seconds, nanoseconds GL08, SA01 (#59582)

* fix pandas.Series.dt.freq

* fix seconds, nanoseconds, microseconds

* remove fixed objects from code_checks.sh

* Remove Timedelta Index checks

* fix freq example

* remove freq

* bring back microseconds
fix: use fastpath for PyCapsule export when starting from pyarrow-backed Series, respect requested_schema (#59683)

* fix: use fastpath for PyCapsule export when starting from pyarrow-backed Series, respect requested_schema

* simplify

* stringdtype test
DOC: fix SA01,ES01 for pandas.RangeIndex.start (#59728)

* DOC: fix SA01,ES01 for pandas.RangeIndex.start

* remove superfluous description of RangeIndex
DOC: fix SA01,ES01 for pandas.RangeIndex.stop (#59729)

* DOC: fix SA01,ES01 for pandas.RangeIndex.stop

* remove superfluous description of RangeIndex
DOCS: fix docstring validation errors for groupby.DataFrameGroupBy.filter, groupby.SeriesGroupBy.filter (#59742)

* DOCS: fix docstring validation errors for pandas.core.groupby.DataFrameGroupBy.filter

DOC string fix for both groupby.DataFrameGroupBy.filter and groupby.SeriesGroupBy.filter

* Update generic.py

* Update generic.py

* Update generic.py

* quickfix
TST: Update IntervalArray min/max test to fail on changed default skipna (#59747)

Test
Fix docs for api.types (#59753)

* Fix is_bool

* Fix is_categorical_dtype

* Fix is_complex

* Fix is_complex_dtype

* Fix is_datetime64_dtype

* Fix is_datetime64_ns_dtype

* Fix is_datetime64tz_dtype

---------

Co-authored-by: Abhinav Thimma <athimma2@illinois.edu>
TST (string dtype): adjust pandas/tests/reshape tests (#59762)
Bump deadsnakes/action from 3.1.0 to 3.2.0 (#59757)

Bumps [deadsnakes/action](https://github.com/deadsnakes/action) from 3.1.0 to 3.2.0.
- [Release notes](https://github.com/deadsnakes/action/releases)
- [Commits](https://github.com/deadsnakes/action/compare/v3.1.0...v3.2.0)

---
updated-dependencies:
- dependency-name: deadsnakes/action
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
TST (string dtype): Adjust indexing string tests (#59541)

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
TST/BUG (string dtype): Fix and adjust indexes string tests (#59544)

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
BUG: Fix inconsistent pivot table subaggregation when index is None (#59629)
Missing source link (#59549)

* merged DataFrame.index and DataFrame.columns with other Axes section.

* small clean for DataFrame.columns

* reverted frame.rst file
Resolves #59670 by documenting that DataFrame.from_records()'s columns filters (includes) data.  (#59723)

Update frames.py to factor in explain columns reordering
DOC: move `idxmin` and `idxmax` docs from core/shared_docs.py to core/frame.py (#59735)

move idxmin, idxmax docstring from shared_docs.py to frame.py
String dtype: implement _get_common_dtype (#59682)

* String dtype: implement _get_common_dtype

* add specific tests

* try fix typing

* try fix typing

* suppress typing error

* support numpy 2.0 string

* fix typo
DOC: fix SA01,ES01 for pandas.Timedelta.view (#59733)
DOC: fix SA01 for pandas.Period.to_timestamp (#59730)
BUG (string): ArrowStringArray.find corner cases (#59562)
DOC: Clarify docs for df.to_sql (#59727)
DOC: Fix some docstring validation errors #59698 (#59713)

* fix some docstring errors

* removed trailing whitespace

* pd.Series.dt.microseconds has the same documentation as pd.TimedeltaIndex.microseconds and SA01 was cleared for both in the previous commit
REF (string): de-duplicate _str_contains (#59709)

* REF: de-duplicate _str_contains

* pyright ignore
TST: Update BooleanArray _logical_method test to fail on incorrect length comparison operator (#59708)

Test
PERF: CategoricalDtype.update_dtype (#59647)

* PERF: CategoricalDtype.update_dtype

* Add whatsnew number add comment

* Fix unit test

* short circut only for the dtype
Fix part of docstring timedelta index#59698 (#59707)

* fix pandas.Timestamp.fold GL08

* fix pandas.Timestamp.fold GL08

* remove i- pandas.Timestamp.fold GL08

* fix pre-commit error

* fix docstring error

* add see also for ceil,floor,asm8,round

* remove ceil,floor,asm8,round from code_checks.sh
TST (string): more targeted xfails in test_string.py (#59703)

* TST (string): more targeted xfails in test_string.py

* Fix no-pyarrow test

* Update pandas/tests/extension/test_string.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/tests/extension/test_string.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Changed to GroupBy (#59699)

* Changed to GroupBy

* Update pandas/core/groupby/groupby.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/groupby/groupby.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
TST (string): copy/view tests (#59702)
REF (string): de-duplicate str_isfoo methods (#59705)
Fix docstring timestamps (Issue #59458) (#59701)

add value docstring
Fix obj arguments in assertions (#59460)

* Fix obj arguments in assertions

* Add test for assert_interval_array_equal

* Still say MultiIndex in some cases

* Be a little braver and change the original obj definition
ENH: DataFrame.plot.scatter argument `c` now accepts a column of strings, where rows with the same string are colored identically (#59239)
DOC: Add 'See Also'and return value description for pandas.api.interchang.from_dataframe (#59403)

DOCS: Add 'See Also'and return value description for pandas.api.interchange.from_dataframe
PERF: Only clear cached .levels when setting MultiIndex.names (#59578)

* PERF: Only clear cached .levels when setting MultiIndex.names

* whatsnew number
API (string): str.center with pyarrow-backed string dtype (#59624)
TST (string dtype): fix and clean up arrow roundtrip tests (#59678)

* TST (string dtype): fix and clean up arrow roundtrip tests

* fix using_infer_string
REF: Use numpy methods instead of np.array (#59672)
DOC: fix PR01,SA01,ES01 for pandas.errors.AbstractMethodError (#59679)
DOC: fix PR07 for pandas.RangeIndex (#59675)
DOC: fix SA01 for pandas.PeriodDtype (#59674)
DOC: fix PR01,SA01 for pandas.Period.strftime (#59673)
TST: Add SparseArray _arith_method test to fail on incorrect comparison operator (#59648)

* Test

* Match

* Rerun GitHub actions

* Initialize inside func
DEPR (string): non-bool na for obj.str.contains (#59615)

Co-authored-by: Joris Van den Bossche <jorisvandenbossche@gmail.com>
fix typo (#59669)

typo
REF: Use range over arange for iterators (#59619)
DOC: Remove unnecessary parentheses in `:func:` & `:meth:` role (#59663)

remove unnecessary parentheses in func & meth role from doc
fix typos (#59665)

typos
DOC: fix SA01,ES01 for pandas.NaT (#59660)
DOC: fix SA01,ES01 for pandas.Period.freqstr (#59661)
DOC: fix RT03,SA01,ES01 for pandas.MultiIndex.reorder_levels (#59658)
Fixed Typos #59640 (#59651)

* Fixed Typos

* Changes requested
REF (string): de-duplicate str_endswith, startswith (#59568)
Docstring timestamps#59458 (#59644)

* fix pandas.Timestamp.fold GL08

* fix pandas.Timestamp.fold GL08

* remove i- pandas.Timestamp.fold GL08

* fix pre-commit error

* fix docstring error
TST (string) fix xfailed groupby tests (3) (#59642)

* TST (string) fix xfailed groupby tests (3)

* TST: non-pyarrow build
PERF: Improve efficiency of `BlockValuesRefs._clear_dead_references(...)` (#59643)

Improve performance of BlockValuesRefs._clear_dead_references(...)
Doc/59592/fix docstring validation errors (#59611)

* adding extended summary, populating return description and adding see also section

* populating return description section

* populating return description section

* fixing zfil docstrign as per PR #59597

* removing methods whose docstrign has been fixed from code_checks.sh script

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
PERF: Improve efficiency of `BlockValuesRefs` (#59598)

* Improve efficency of _libs.internal

* Re-add python version of ._rebuild_blknos_and_blklocs
REF: Consistently use `_reset_cache` for cache clearing (#59617)

Standardize cache clearing
REF (string): rename result converter methods (#59626)
TST (string): fix xfailed groupby value_counts tests (#59632)
 DOC: fix docstring validation errors for pandas.core.window (#59634)

* DOCS: pandas.core.window SA01 docstring validation error fixed

* DOC: pandas.core.window SA01 docstring validation error linting fixes

* DOC: pandas.core.window.rolling.Window.var PR01 docstring validation fix
 DOC: fix docstring validation errors for pandas.PeriodIndex (#59638)

* DOC: pandas.PeriodIndex GL08, PR07, RT03, and SA01 docstring validation errors fixed

* DOC: pandas.Series.dt.qyear docstring validation error addressed by existing series.PeriodIndex.qyear docstring validation fix
DOC: fix docstring validation errors for pandas.Series (#59633)

* fixed Series.sparse and Series.sparse.to_coo and removed from ci/code_checks.sh

* fixed errors from pre-commit

* fixed errors from pre-commit
PERF: avoid unnecessary copy (#59630)
BUG (string): str.replace with negative n (#59628)

* BUG (string): str.replace with negative n

* update GH ref
DOC: Add whatsnew for 2.3.0 (#59625)

* DOC: Add whatsnew for 2.3.0

* fix duplicate label
ENH: Enhancement for spss kwargs (#56434)

* Bug fix for spss kwargs

* Update to whatsnew with bug fix details

* Black formatting fix

* Fix for whatsnew rst pre-commit

* Sort whatsnew alphabetically

* Fixing alphabetical sorting to whatsnew

* Sorting whatsnew

* Fixing kwargs

* Fixing tests

* Test fixes

* Minor change in kwargs

* Resolving PR comments

* Resolving mypy issue

* Docstring update for kwargs mypy

* Updates based on PR comments

* Fixing kwargs types

* Finalizing updates based on suggestions

* Updating to try to fix other random test fails

* Unrelated test fix

* Test fixes for dims/sizes

* Updates to whatsnew

* Case fix

* Update to reword to enhancements
DOC: fix docstring validation errors for pandas.Series (#59621)

* fixed Series.std and Series.sem docstrings via make_doc

* removed Series.sem, Series.std from ci/code_checks.sh

* fixed errors from pre-commit

* ran pre-commit
DOC: Enforce Numpy Docstring Validation (Issue #59458) (#59622)

* adding docstring for Timestamp properties

* updating code_checks.sh

* removing extra line

* fixing code_checks.sh
String dtype: avoid surfacing pyarrow exception in binary operations (#59610)
BUG: Fix for pandas.to_datetime reports incorrect index when failing (#59594)

* Remove index from error

* Fix test failures

* Add entry to docs/source/whatsnew

* Update pandas/tests/tools/test_to_datetime.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/tests/tools/test_to_datetime.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fix docstring validation errors for pandas.io.formats.style.Styler (#59607)

* DOC: all pandas.io.formats.style.Styler docstring validation errors fixed

* DOCS: base to_excel docstring template extended for pandas.io.formats.style.Styler.to_excel
PERF: Performance Improvement on `DataFrame.to_csv()` when `index=False` (#59608)

* add alternative ix when self.nlevel is 0

* add to latest whatsnew

* change np.full to np.empty
BUG: allow None as name in multi-index during join (#59546)

* allow None as name in multi-index

* update whatsnew

* add unit test for none label joins

* move bugfix note under Reshaping

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
REF: Minimize operations in recode_for_groupby (#59618)
ENH: support Arrow PyCapsule Interface on Series for export (#59587)

* ENH: support Arrow PyCapsule Interface on Series for export

* simplify

* simplify
DOC: add See Also section to groupby.DataFrameGroupBy.prod (#59599)

* Update Groupby.prod

* update code_check list

* remove extra spaces

* fix errors

* ruff formatting
DOC: Fix Numpy Docstring errors in pandas.api.extensions.ExtensionArray (#59605)

* fix duplicated

* fix fillna

* fix insert

* fix isin

* fix tolist

* fix unique

* fix view

---------

Co-authored-by: Abhinav Thimma <athimma2@illinois.edu>
DOCS: fix docstring validation errors for pandas.Series.str (#59597)
DOCS: fix docstring validation errors for pandas.Series (#59600)

* DOCS: fix docstring validation errors for pandas.Series

* DOCS: fix underline length
DOC: Enforce Numpy Docstring Validation | pandas.api.extensions.ExtensionArray (#59407)

* Fix pandas.api.extensions.ExtensionArray._pad_or_backfill

Add 'limit_area' parameter, return value description and 'See Also' section

* Fix pandas.api.extensions.ExtensionArray._reduce

Add return value description and 'See Also' section

* Fix pandas.api.extensions.ExtensionArray._values_for_factorize

Add 'See Also' section

* Fix pandas.api.extensions.ExtensionArray.astype

Add 'See Also' section

* Fix pandas.api.extensions.ExtensionArray.dropna

Add return value description and 'See Also' section

* Fix pandas.api.extensions.ExtensionArray.dtype

Add 'See Also' section
MAINT: update vendored version util from packaging (#59558)

* MAINT: update vendored version util from packaging

* fix docstring

* fix docstring

* skip docstring validation

* ignore

* fix validation ignore

* remove docstring

* rollback

* add comments
DOCS: fix docstring validation errors for pandas.Series (#59596)

Fixes:
-i "pandas.Series.str.match RT03" \
-i "pandas.Series.str.normalize RT03,SA01" \
-i "pandas.Series.str.repeat SA01" \
-i "pandas.Series.str.replace SA01" \
DOC: Enforce Numpy Docstring Validation (Issue #59458) (#59590)

* adding docstring for pandas.Timestamp.day property

* fixing type annotation
Add example same correlation in pandas.Series.corr documentation (#59591)
DOCS: fix docstring validation errors for pandas.Series (#59602)

* DOCS: pandas.Series.prod + pandas.Series.product RT03 docstring validation error fixed

* DOCS: pandas.Series.pop SA01 + pandas.Series.reorder_levels RT03/SA01 docstring validation error fixed

* DOCS: pandas.Series.list.__getitem__ + pandas.Series.list.flatten + pandas.Series.list.len SA01 docstring validation error fixed

* DOCS: pandas.Series.sparse.density SA01 docstring validation error fixed

* DOCS: pandas.Series.gt + pandas.Series.lt + pandas.Series.ne SA01 docstring validation error fixed

* linting issues leftover from docstring validation fixes resolved
Clarify documentation for asfreq (#59589)
Use shorthand notation for pip config-settings (#59583)
Fix typo in contributing_environment.rst (#59584)
REF (string): avoid copy in StringArray factorize (#59551)

* REF: avoid copy in StringArray factorize

* mypy fixup

* un-xfail
DOC: Update Series docs for Series.update (#59579)

DOC: Update Series docs

pandas.Series.update
ENH: Add merge type validation on `pandas.merge` (#59435)

* add merge type validation on pandas.merge

* add ENH to latest whatsnew doc

* move merge type validation to _MergeOperation class

* add tests on merge validation; add asof as valid mergetype

* change merge_type from tuple to dict

* change ValueError message to updated change

* change Error message on merge type

* update test error messages for merge type errors

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: Fix Ability to set both color and style in pandas plotting (#59574)

* BUG: Fix plotting set color style dict sametime

* BUG: chore pre-commit inconsistent-namespace-usage

* BUG: Chore Conditional block

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* BUG: Chore pre-commit sort whatsnew entries alphabetically

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
TST: link to correct downstream fastparquet bug (#59581)
String dtype: fix pyarrow-based IO + update tests (#59478)
BUG: Handle nonexistent end dates when resampling (#59471)
DOC: Clarify date_format usage in read_csv documentation specifically… (#59566)

DOC: Clarify date_format usage in read_csv documentation specifically pandas/io/parsers/readers.py issue #59557

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
String dtype: still return nullable NA-variant in object inference (`maybe_converts_object`) if requested (#59487)

* String dtype: maybe_converts_object give precedence to nullable dtype

* update datetimelike input validation

* update tests and remove xfails

* explicitly test pd.array() behaviour (remove xfail)

* fixup allow_2d

* undo changes related to datetimelike input validation

* fix test for str on current main

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Series replace error (#59552)

* changed AttributeError to ValueError

* added test for replace method from dict_like to dict_like for a pd.Series

* added entry in whatsnew.rst

* Update doc/source/whatsnew/v3.0.0.rst

removed rst entry

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/generic.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/generic.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* updated msg test function

* breaking line for 88 instead of 89 characters

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
PERF: avoid calling `DataFrame.dtypes` in loop (#59573)
DOC: Fix docstrings for Timestamp: strptime, timetz, to_datetime64, to_julian_date (#59569)

* strptime

* strptime + timestamp

* timetuple

* timetz

* to_datetime64

* to_julian_date

* timetz

* code_checks

* duplicate see also
CI: Uninstall nomkl & 32 bit Interval tests (#59553)

* undo numpy 2 changes?

* some interval 32 bit tests working

* Revert "undo numpy 2 changes?"

This reverts commit 39ce2229a96406edac107fc897e807251d364e2b.

* nomkl?

* nomkl?

* Update .github/actions/build_pandas/action.yml

* grep for nomkl

* xfail WASM

* Reverse condition
BUG: `query` on columns with characters like # in its name (#59296)
Fix docstring timestamps#59458 (#59533)

* Fix docstrings for pandas.Period.year SA01

* Fix docstrings for pandas.Period.year SA01 Validate Docstrings err

* Fix docstrings for pandas.Period.year SA01 Validate Docstrings err

* Fix docstrings for pandas.timestamps SA01 PR01

* This reverts commit f52c61080a331597197711465742ace1bdfcd1dd.

* Revert "Removed dateparseerror example from period.year"

This reverts commit cdf36b2faa6c95848d6210c801ee287f0b7084fd.

* fixing merge conflict

* fix pre-commit.ci err

* fix pre-commit.ci err

* fix Docstring validation err

* fix Docstring validation err

* fix Docstring validation err

* fix timestamp Docstring validation err

* pandas/plotting/_matplotlib/core.py:549: error: Unused "type: ignore" comment [unused-ignore]

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Fix Numpy Docstring validation errors in pandas.api.extensions.ExtensionArray (#59540)

* Fix SA01 for isna

* Fix See Also for nbytes

* fix See also for ndim

* Fix ravel

* fis return value of take

* remove type ignore

---------

Co-authored-by: Abhinav Thimma <athimma2@illinois.edu>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Fixed bug number in what's new v3.0.0 (#59539)

Fixed bug number in what's new v3.0.0
TST: Test non-nanosecond datetimes in PyArrow Parquet dataframes (#59393)

* Add test_non_nanosecond_timestamps

* Fix lint errors

* Remove detailed comment; use temp path helper

* Use temp_file

* Apply suggestions from code review

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Remove extra empty line

* Skip test in minimal version env

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Fix get_datetimestruct_days overflow (#56001)

* remove pandas/tests/frame UB

* updated macro with filename / line num

* fix typo

* stay with PD_CHECK_OVERFLOW

* updates

* test fixes

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
CI: Fix ci for numpy 2 failures (#59545)
DOCS: remove pandas-coverage app (#59536)

[skip-ci] docs: remove pandas-coverage app
API (string): return str dtype for .dt methods, DatetimeIndex methods (#59526)

* API (string): return str dtype for .dt methods, DatetimeIndex methods

* mypy fixup
Fix docstrings for pandas.Period.year SA01 (#59525)

* Fix docstrings for pandas.Period.year SA01

* Fix docstrings for pandas.Period.year SA01 Validate Docstrings err

* Fix docstrings for pandas.Period.year SA01 Validate Docstrings err

* Removed dateparseerror example from period.year

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
TST: Added test for date_range for bug GH#57456 (#59519)

TST: Added test for date_range for bug #57456

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
REF (string): move ArrowStringArrayNumpySemantics methods to base class (#59501)

* REF: move ArrowStringArrayNumpySemantics methods to parent class

* REF: move methods to ArrowStringArray

* mypy fixup

* Fix incorrect double-unpacking

* move methods to subclass
REF (string): remove _str_na_value (#59515)

* REF (string): remove _str_na_value

* mypy fixup
DOC: Enforce Numpy Docstring Validation for freqstr, nanos, and rule_code methods (#59475)

* DOC: Enforce Numpy Docstring Validation for freqstr, nanos, and rule_code methods of pandas.tseries.offsets Week, WeekOfMonth, YearBegin, and YearEnd classes.

* DOC: Enforce Numpy Docstring Validation for freqstr, nanos, and rule_code methods of pandas.tseries.offsets Week, WeekOfMonth, YearBegin, and YearEnd classes.

* Fix precommit errors - Add 2 spaces before inline comment

* Fix precommit errors - Remove unwanted language

* Update code_checks.sh to remove methods that don't fail anymore.

* Indented See Also strings to avoid using # noqa

* Correct for code check error.

* Removed duplicate from code_checks.sh.

* Correct code_checks.sh.

* Correct code_checks.sh.

* Update pandas/_libs/tslibs/offsets.pyx

Delete two examples from See Also for nanos

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/_libs/tslibs/offsets.pyx

Update nanos summary

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/_libs/tslibs/offsets.pyx

Delete two examples from See Also for nanos

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Fix docstrings for pandas.Period.month (#59517)

* Fix docstrings for pandas.Period.month

* Fix docstrings for pandas.Period.month indentation

* Fix docstrings for pandas.Period.month

* Fix docstrings for pandas.Period.asfreq SA01

* Fix docstrings for pandas.Period.asfreq

* Fix docstrings ci error cython-lint

* Fix docstrings pre-commit.cierror

* Fix docstring validation error

* Fix docstring validation errors
DOC: fix ES01,SA01 for pandas.MultiIndex.names (#59520)

DOC: fix ES01,PR07 for pandas.MultiIndex.names
DOC: fix PR07,SA01 for pandas.MultiIndex.sortlevel (#59521)
REF (string): Move StringArrayNumpySemantics methods to base class (#59514)

* REF (string): Move StringArrayNumpySemantics methods to base class

* mypy fixup
docs: Fix ES01, SA01 code check of `pandas.api.types.is_bool_dtype` (#59507)

* docs: FIx ES01, SA01 code check of `pandas.api.types.is_bool_dtype`

* chore: Remove pandas in See Also
TST (string dtype): fix IO dtype_backend tests for storage of str dtype of columns' Index (#59509)

* TST (string dtype): fix failure in csv test_dtype_backend_string test

* ignore storage of Index str dtype
TST (string dtype): clean up construction of expected string arrays (#59481)
DOC: Docstrings for pandas.Series.str functions (#59506)

Docstrings for pandas.Series.str functions

pandas.Series.str.rpartition
pandas.Series.str.rstrip
pandas.Series.str.strip
ENH: Allow Iterable[Hashable] in drop_duplicates
BUG (string): ArrowEA comparisons with mismatched types (#59505)

* BUG: ArrowEA comparisons with mismatched types

* move whatsnew

* GH ref
REF: remove unused variable and checks (#59463)

* REF: removed unused convert keyword

* REF: remove unhit field checks

* REF: inline _object_ops
DOC: fix PR02 for pandas.tseries.offsets.* (#59485)

* Correcting PR02 for classes in offsets.pyx

* remove remaining PR02 issues in offsets.pyx

* revert for errored classes

* revert dependent classes

---------

Co-authored-by: Abhinav Thimma <athimma2@illinois.edu>
DOC: Fix docstrings for Timestamp: unit, utcoffset, utctimetuple (#59496)

* unit, utcoffset, utctimetuple

* Fix E501 line too long cython-lint
DOC: add pandas-gbq and related db-dtypes packages to ecosystem (#59491)

* DOC: add pandas-gbq and related db-dtypes packages to ecosystem

As of pandas 2.2.0, pandas-gbq functionality is fully separated, so I think now would be a good time to introduce it as part of the "ecosystem".

db-dtypes was built for use from pandas-gbq but should be applicable more generally.

* fix pandas-gbq link
String dtype: honor mode.string_storage option (and change default to None) (#59488)

* String dtype: honor mode.string_storage option (and change default to None)

* fix test + explicitly test default

* use 'auto' instead of None
DEPS: Make pytz an optional dependency (#59089)

* Make pytz an optional dependency

* Start to address tests

* Fix tests

* Fix tests

* Fix test, import optional pytz in conftest

* Fix formatting

* Change minimum

* remove type ignore

* another pa under 17

* Address comments

* Undo file

* Fix pyarrow 17 test

* Test xpasses on pyarrow 18
DOC: Fix docstrings for Timestamp: tz_localize, tzname, utcfromtimestamp (#59484)

* updated docstring for pandas.Timestamp.tz_localize, pandas.Timestamp.tzname and pandas.Timestamp.utcfromtimestamp

* trimmed whitespace

* reducing line length

* updating NaT docstrings to match for timestamps
BUG: Fix out-of-bounds access in safe_sort with an empty array and non-empty codes (#59489)

* Fix out-of-bounds violations in safe_sort for empty arrays.

Previously we masked `codes` referring to out-of-bounds elements to 0 and
then fixed them after to -1 using `np.putmask`. However, this results in
out-of-bounds access in `take_nd` if the array is empty.

Instead, set all out-of-bounds indices in `codes` to -1 immediately, as
these can be handled by `take_nd`.

* Remove dead code.

`use_na_sentinel` cannot be truthy inside an else branch where it is
falsy.

* Add test based upon #59421
STY: Add Yields section to option_context (#59490)

Add Yields section to option_context
DOC: Clarify nrows behavior in read_csv (#59467)

* DOC: Clarify nrows behavior in read_csv

* Remove whitespace from a blank line
String dtype: fix convert_dtypes() to convert NaN-string to NA-string (#59470)

* String dtype: fix convert_dtypes() to convert NaN-string to NA-string

* fix CoW tracking for conversion to python storage strings

* remove xfails
use x.com and twitter's new X logo (#59482)
Correct typo (#59486)
BUG (string dtype): convert dictionary input to materialized string array in ArrowStringArray constructor (#59479)
DOC: Enforce Numpy Docstring Validation for pandas.Series.str methods (#59474)

* Doctrings for pandas.Series.str functions
    pandas.Series.str.capitalize
    pandas.Series.str.casefold
    pandas.Series.str.center
    pandas.Series.str.decode
    pandas.Series.str.encode

* Fixed other docstrings along the way
DOC: More doc fix for dtype_backend (#59071)
DOC: Add missing single quote to `Timestamp.tz_localize` (#59472)

* Add missing single quote to  docstring

* More missing single quotes

* Clean up a print statement
ENH: pd.concat with keys and ignore_index=True should raise  (#59398)

* Add enhancement to v3.0.0

* Raise error when combination of given values don't make sense

* Add test

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/reshape/concat.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/tests/reshape/concat/test_concat.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/tests/reshape/concat/test_concat.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Fix test

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
REF (string): de-duplicate str_map_nan_semantics (#59464)

REF: de-duplicate str_map_nan_semantics
BUG: Handle floating point boundaries in `qcut` (#59409)

* Handle floating point boundaries

* Mypy errors don't go away just because I didn't check them

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Fix pandas.Series.str.index RT03 (#59397)

* DOC: fix pandas.Series.str.index RT03

* DOC: Remove pandas.Series.str.index RT03 from ci checks

* remove pandas.Series.str.rindex RT03 from ci check
REF (string dtype): de-duplicate _str_map (2) (#59451)

* REF (string): de-duplicate _str_map (2)

* mypy fixup
TST (string dtype): add test build with future strings enabled without pyarrow (#59437)

* TST (string dtype): add test build with future strings enabled without pyarrow

* ensure the build doesn't override the default ones

* uninstall -> remove

* avoid jobs with same env being cancelled

* use different python version for both future jobs

* add some xfails

* fixup xfails

* less strict
Use bash as default shell in Dockerfile (#59456)
ENH: Raise TypeError instead of RecursionError when multiplying DateOffsets (#59442)
DOC: fix ES01,PR07 for pandas.MultiIndex.get_loc_level (#59450)
String dtype: fix alignment sorting in case of python storage (#59448)

* String dtype: fix alignment sorting in case of python storage

* add test
Fix link to JSON TAB standard in pdeps (#59449)
DOC: Add SA01 for pandas.api.types.is_timedelta64_ns_dtype, pandas.api.types.is_period_dtype and pandas.api.types.is_numeric_dtype (#59446)

added see also sections
String dtype: use 'str' string alias and representation for NaN-variant of the dtype (#59388)
DOC: Update the usage of rtol and atol arguments (#59434)

* docs: Enhance the usage of rtol and atol arguments in pd.testing.assert_frame_equal

* pr: Fix review
REF (string dtype): de-duplicate _str_map methods (#59443)

* REF: de-duplicate _str_map methods

* mypy fixup
COMPAT: Fix numpy 2.1 timedelta * DateOffset (#59441)
removed link to numpy's resources tutorial (#59439)
String dtype: implement object-dtype based StringArray variant with NumPy semantics (#58451)

Co-authored-by: Patrick Hoefler <61934744+phofl@users.noreply.github.com>
BUG Fix for Add numeric_only to function signature of DataFrameGroupBy.cumprod and `DataFrameGroupBy.cumsum  (#59427)

* Add numeric_only to func signature

* Add numeric_only to cumprod and cumsum func signature

* Added docstring

* Fix tests and add documentation

* Update pandas/core/groupby/groupby.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/groupby/groupby.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
API/TST: expand tests for string any/all reduction + fix pyarrow-based implementation (#59414)
DOC: Improve DataFrameGroupBy.std ddof doc (#59425)

improve ddof doc of DataFrameGroupBy.std
DOC: Fix Pandas.series.str.fullmatch RT03 (#59395)

* DOC: fix andas.Series.str.fullmatch RT03

* DOC: remove pandas.Series.str.fullmatch RT03 from code_checks.sh
CI: Update to cibuildwheel 2.20.0 (#59401)

cibuildwheel 2.20.0 uses the ABI stable Python 3.13.0rc1 and build Python 3.13 wheels by default, which allows removing the `CIBW_PRERELEASE_PYTHONS` flag.

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: Fix `is_unique` regression for slices of `Index`es (#57958)

* Fix is_unique for slices of Indexes

* Update doc/source/whatsnew/v2.2.2.rst

Co-authored-by: Abdulaziz Aloqeely <52792999+Aloqeely@users.noreply.github.com>

* Handle monotonic on slices

* Restore and fix monotonic code

* Update docstring and comment for test

* Update whatsnew for v3.0.0

* Update pandas/_libs/index.pyx

Co-authored-by: Abdulaziz Aloqeely <52792999+Aloqeely@users.noreply.github.com>

* Update pandas/_libs/index.pyx

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Add test for a null slice

---------

Co-authored-by: Abdulaziz Aloqeely <52792999+Aloqeely@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Bump pypa/cibuildwheel from 2.19.2 to 2.20.0 (#59413)

Bumps [pypa/cibuildwheel](https://github.com/pypa/cibuildwheel) from 2.19.2 to 2.20.0.
- [Release notes](https://github.com/pypa/cibuildwheel/releases)
- [Changelog](https://github.com/pypa/cibuildwheel/blob/main/docs/changelog.md)
- [Commits](https://github.com/pypa/cibuildwheel/compare/v2.19.2...v2.20.0)

---
updated-dependencies:
- dependency-name: pypa/cibuildwheel
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Add 'See Also' and 'Parameters' for pandas.api.indexers.VariableOffsetWindowIndexer (#59377)

Add 'See Also' and 'Parameters'

Add 'See Also' and 'Parameters' for VariableOffsetWindowIndexer

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Add 'See Also' for pandas.api.types.is_any_real_numeric_dtype (#59404)

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Add 'See Also' for pandas.api.types.is_sparse (#59406)

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fix SA01 for pandas.MultiIndex.get_level_values (#59400)

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
CI: Install libegl explicitly for pytest-qt on ubuntu (#59423)

* CI: Install libegl explicitly for pytest-qt on ubuntu

* Add libopengl

* Wrong name
DOC: Fix pandas.Series.str.get RT03,SA01 (#59396)

* DOC: Fix pandas.Series.str.get RT03,SA01

* DOC: remove pandas.Series.str.get from code_checks.sh
DOC: Fix RT03 for pandas.Series.str.find (#59394)

* fix RT03 for pandas.Series.str.find

* remove check from code_checks.sh

* Remove pandas.Series.str.rfind RT03 from ci
DOC: Remove outdated performance metrics from 'Accelerated operations… (#59416)

DOC: Remove outdated performance metrics from 'Accelerated operations' section

Co-authored-by: devin-ai-integration[bot] <158243242+devin-ai-integration[bot]@users.noreply.github.com>
CI: Use Miniforge over Mambaforge (#59357)

* CI: Use Miniforge over Mambaforge

* unbound variable

* Unbound variable

* Remove unset flag

* Missing 3
 DOC: Typo in docs for na_values parameter in pandas.read_csv function #59314  (#59318)

* fixed formatting of default na values

* bug fix

* fixing docstring formatting

* fixing formatting for quoting
fix: show correct error message when invalid period alias is passed to to_timestamp (#59373)
String dtype: restrict options.mode.string_storage to python|pyarrow (remove pyarrow_numpy) (#59376)

* String dtype: restrict options.mode.string_storage to python|pyarrow (remove pyarrow_numpy)

* add type annotation
TST (string dtype): replace string_storage fixture with explicit storage/na_value keyword arguments for dtype creation (#59375)
TST (string dtype): remove usage of arrow_string_storage fixture (#59368)

* TST (string dtype): remove usage of arrow_string_storage fixture

* fixup
ENH: Allow to plot weighted KDEs. (#59337)

* added weights argument in _plot function and modified scipy.stats.gaussian_kde accordingly

* Update pandas/plotting/_core.py

Co-authored-by: Xiao Yuan <yuanx749@gmail.com>

* moved "weights" after "ind"

* added entry in whatsnew v3.0.0.rst

* added new test for weights

* removed weights

* moved message from Plotting section to Other enhancements

---------

Co-authored-by: Xiao Yuan <yuanx749@gmail.com>
TST (string dtype): change any_string_dtype fixture to use actual dtype instances (#59345)

* TST (string dtype): change any_string_dtype fixture to use actual dtype instances

* avoid pyarrow import error during test collection

* fix dtype equality in case pyarrow is not installed

* keep using mode.string_storage as default for NA variant + more xfails

* fix test_series_string_inference_storage_definition

* remove no longer necessary xfails

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fix ES01,RT03,SA01 for pandas.MultiIndex.remove_unused_levels (#59366)
DOC: fix ES01,RT03,SA01 for pandas.MultiIndex.set_levels (#59367)
DOC: fix ES01,SA01 for pandas.MultiIndex.levshape (#59365)

DOC: fix SA01 for pandas.MultiIndex.levshape
DOC: fix ES01,PR07 for pandas.MultiIndex.get_loc (#59364)
DOC: fix PR07,RT03,SA01 for pandas.MultiIndex.copy (#59363)
DOC: Added extra sentences to clarify series.GroupBy snippets in examples (#59331)

* Added messages for each releveant snippet

* some small corrections to clarify further

* removed trailing whitespace

* more formatting correction

* more cleanup

* reverting changes

* trying to format documentation correctly

* removed some part of addee text

* testing if removing list works

* reverting some changes

* reverting changes

* checking if minor changes also leads to failures

* reverting all changes to pass the tests

* checking is small changes causes errors as well

* pusing the changes back
DOC: Typo in style.ipynb (#59361)

Typo in style.ipynb

Semicolon instead of colon
BUG: Avoid RangeIndex conversion in read_csv if dtype is specified (#59316)

* BUG: Avoid RangeIndex conversion in read_csv if dtype is specified

* Undo change

* Typing
Add doc for counting categorical dtype (#59327)

* Add doc for counting categorical dtype

* Move example to docstring instead

* Remove backslash

* add line

* Undo the change in categorical.rst

* Rename it to Categorical Dtypes

* undo categorical.rst
DOC: fix PR07,SA01 for pandas.MultiIndex.append (#59354)
TST (string dtype): follow-up on GH-59329 fixing new xfails (#59352)

* TST (string dtype): follow-up on GH-59329 fixing new xfails

* add missing strict
TST (string dtype): xfail all currently failing tests with future.infer_string (#59329)

* TST (string dtype): xfail all currently failing tests with future.infer_string

* more xfails

* more xfails

* add missing strict=False

* also run slow and single cpu tests

* fix single_cpu tests

* xfail some slow tests

* stop suppressing non-zero exit code from pytest on string CI build

* remove accidentally added xlsx file

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: Fix 57735 (#59335)

* Revert "CLN: Remove special cases in indexing ops (#52063)"

This reverts commit 8e456d3599541dc1a7fe7ec742274774f768f97d.

* remove old comments, add test

* use better test name

* Update pandas/tests/indexing/test_loc.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* check for empty index first

* assert assign to empty does not change frame

* format

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
String dtype: rename the storage options and add `na_value` keyword in `StringDtype()` (#59330)

* rename storage option and add na_value keyword

* update init

* fix propagating na_value to Array class + fix some tests

* fix more tests

* disallow pyarrow_numpy as option + fix more cases of checking storage to be pyarrow_numpy

* restore pyarrow_numpy as option for now

* linting

* try fix typing

* try fix typing

* fix dtype equality to take into account the NaN vs NA

* fix pickling of dtype

* fix test_convert_dtypes

* update expected result for dtype='string'

* suppress typing error with _metadata attribute
DOC: Promote Arrow C Data Interface over Interchange Protocol (#59347)
TST: Remove unnecessary test_boolean_types.xlsx (#59348)
DOC: add SA01 for pandas.Timestamp.isoweekday (#59341)

add SA01 for pandas.Timestamp.isoweekday
BUG: Added test for setitem using loc not aligning on index (#59340)

* initial commit

* Added test
Doc: Fix docstring SA01 error for pandas.core.groupby median and pandas.core.resample median (#59339)

* Fix docstring SA01 error for pandas.core.groupby median

* fix SA01 docstring code check for pandas core resample median

* fix E501 docstring for pandas core groupby median
TST:  Add test for `numpy.maximum` with `Timestamp` and `Series` of `datetime64` (#59338)

Add test for `numpy.maximum` with `Timestamp` and `datetime64` `Series`
TST (string dtype): clean-up xpasssing tests with future string dtype (#59323)
BUG: Missing value code not recognised for Stata format version 105 a… (#59325)

* BUG: Missing value code not recognised for Stata format version 105 and earlier

* Move definition of the old missing value constant for the double type out of the loop
REF (string dtype): rename using_pyarrow_string_dtype to using_string_dtype (#59320)
DOC: Fix link to Conda package in README.md (#59321)

Fix link to Conda package in README.md
DOC: warn about when to not use the interchange protocol (#59322)

docs: warn about when to not use the interchange protocol
DOC: Add RT03,SA01 for pandas.api.types.union_categoricals (#59319)

* Add RT03,SA01 for pandas.api.types.union_categoricals

* Update after rerun the check
TST / string dtype: add env variable to enable future_string and add test build (#58459)
BUG: Integer values at the top end of the supported range incorrectly… (#59310)

* BUG: Integer values at the top end of the supported range incorrectly interpreted as missing for format versions 111 and prior

* StataMissingValue expects value passed in to be of float type, so cast to this

* Add type hint to StataParser.MISSING_VALUES to avoid mypy error when constructing StataMissingValue from value
DOC: Clarify row delete comparison to SQL (#59311)
CI: xfail test_to_read_gcs for pyarrow=17 (#59306)
CLN: Remove unnecessary iterators (#59297)
BUG: add note to docstring about `dtype` keyword when creating Series from abother Series (#59300)

* BUG: add note on creating Series from Series with dtype keyword

When creating Series from another Series `dtype` keyword is ignored.
See GH #59060. Add note to the docstring to underline this behaviour to
Series and DataFrame constructors.

* make backticks double

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Add SA01 for `pandas.api.types.is_string_dtype` (#59305)

DOC: Add see also for pandas.api.types.is_string_dtype
TST: Clean tests that constuct Index equivalent to RangeIndexes (#57441)

* API: Check index and column classess exactly by default

* Add a todo

* Change test for expected behavior

* add ignore index check

* ignore column checking for some test

* Ignore index checking for test_concat_all_na_block

* Ignore adjust some tests

* Fix another test

* Adjust more tests

* Fix more tests

* Adjust more tests

* adjust another test

* Adjust more tests

* Adjust test

* Adjust test

* Adjust test

* Fix more tests

* Fix more tests

* Fix more tests

* Fix tests

* Adjust more tests

* Adjust more tests

* Fix some tests

* Adjust tests

* Fix test

* Fix more test

* Adjust more tests

* Undo some strictness checking

* update tests

* Adjust more tests

* Another test

* Adjust more tests

* fix another test

* Fix test

* Fix another test

* fix more test

* More indexes

* Undo assert_ functions for strict checking

* Fix tests
DOC: Add Bodo to out-of-core projects in ecosystem (#59302)

* DOC: ecosystem.md: add Bodo.

* DOC: ecosystem.md: add Bodo.

* DOC: ecosystem.md: add info about paid and free tiers.

* DOC: ecosystem.md: remove trailing whitespace

---------

Co-authored-by: ritwika314 <mimghosh@gmail.com>
DOC: pyarrow.rst: Add missing IO readers (#59304)

pyarrow.rst: Add missing IO readers

Add read_parquet and read_table (experimental) to the list of IO readers that support the PyArrow engine.
PDEP-14: Dedicated string data type for pandas 3.0 (#58551)

Co-authored-by: Simon Hawkins <simonjayhawkins@gmail.com>
Co-authored-by: Irv Lustig <irv@princeton.com>
Co-authored-by: William Ayd <william.ayd@icloud.com>
Co-authored-by: Richard Shadrach <45562402+rhshadrach@users.noreply.github.com>
Co-authored-by: Patrick Hoefler <61934744+phofl@users.noreply.github.com>
CLN: Remove Index.sort (#59283)
DEPR: group by one element list gets scalar keys (#59179)
Add fixture docstring for series indexing (#59292)

* Add fixture docstring for series indexing

* Make fixture docstring one line only

---------

Co-authored-by: Shawn Liu <sl@Shawns-Mac-mini.fios-router.home>
ENH: Add support for reading 102-format Stata dta files (#58978)

* ENH: Add support for reading 102-format Stata dta files

* Add reference to pull request in whatsnew file

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Remove extra space

* Use datapath() for specifying test file locations

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: Hash and compare tuple subclasses as builtin tuples (#59286)

* cast all tuple subclass index keys to tuple

* fix docs typo

* add multi-index namedtuple test

* hash and compare all tuple subclasses as tuples

* test hashtable with namedtuples

* remove redundant index key conversion

* add comments

* update whatsnew

* check key error message

* fix whatsnew section

* test namedtuple and tuple interchangeable in hashtable

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* use pytest.raises regexp instead of str eq

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Upload 3.13 & free-threaded nightly wheels (#59136)

* Upload free-threaded nightly wheels on Linux and macOS

* Consolidate jobs into one

* Install build dependencies in before-build and pass --no-build-isolation

* Fix {project} placeholder in cibuildwheel config

* Correctly quote echo CIBW_BUILD_FRONTEND command

* Run echo -e

* Add {package} to before-build

* Include cibw script in sdist & add matrix value for build frontend

* Change manifest and gitattributes

* Change gitattributes

* Install verioneer in before-build

* Add cibw_before_test to install nightly NumPy

* Expand before-test to musl

* Better comments plus always run before-build/before-test on 3.13

* Add --no-build-isolation in 3.13 as well

* Install nightly numpy before windows tests

* Address feedback; add todo for NumPy nightly and move default outside matrix

* Set build_frontend to 'build' in pyodide build

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Using np.histogram_bin_edges with pd.cut (#59281)

* update documentation

* Update pandas/core/reshape/tile.py

Co-authored-by: Asish Mahapatra <asishkm@gmail.com>

* Update pandas/core/reshape/tile.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Asish Mahapatra <asishkm@gmail.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
PERF: Don't create a CategoricalIndex._engine in __contains__ if categories are RangeIndex (#59178)

* PERF: Don't create a CategoricalIndex._engine in __contains__ if categories are RangeIndex

* Fix typing
CLN: Remove __nonzero__ in favor of __bool__ (#59275)
DOCS: Add docstrings to fixtures in /io/json/test_json_table_schema_ext_dtype.py (#59287)

Add docstrings to fixtures in /io/json/test_json_table_schema_ext_dtype.py file.
DOCS: Add docstrings to fixtures in /indexes/interval/test_constructors.py (#59288)

Add docstrings to fixtures in /indexes/interval/test_constructors.py file.
DOCS: Add docstrings to fixture in /indexes/categorical/test_category.py (#59289)

Add docstrings to fixture in /indexes/categorical/test_category.py file.
DOCS: Add docstrings to fixture in /indexing/interval/test_interval_new.py (#59290)

Add docstrings to fixture in /indexing/interval/test_interval_new.py file.
DOC: Fix sentence fragment in string methods (#59291)

fixed documentation
TYP: Typing improvements for Index (#59105)

* Typing improvements for Index

* better numpy type hints for Index.delete

* replace some hints with literals, move slice_type to _typing.py
DOC: DataFrame.groupy.agg with a list of tuples  (#59282)

Add doc for groupby.agg with a list of tuples

Co-authored-by: hye ryung cho <chohr29@gmail.com>
TST: Added test for non-nano DTI intersection and updated whatsnew (#59280)

* TST: add intersection test non-nano

* modify whatsnew
clean: simplify lite-rule-alias and dont-uppercase (#59240)
DOCS: Add docstrings to fixtures in /indexes/datetimelike_/test_equals.py (#59278)

Add docstrings to fixtures in /indexes/datetimelike_/test_equals.py file.
DOC: Add docstrings to fixtures in /series/methods/test_drop_duplicates.py (#59265)

* Add docstrings to fixtures in /series/methods/test_drop_duplicates.py

* fixup! Add docstrings to fixtures in /series/methods/test_drop_duplicates.py
DEPS: Bump misc testing dependencies (#59257)

* DEPS: Bump misc testing dependencies

* pyqt alignment
DOC: Add fixtures for testing DropDuplicates for datetimelike dataframes (#59268)

Adding fixtures for DropDuplicates for datetimelike dataframes
BUG: pandas-dev#58594 (#59258)

* BUG: pandas-dev#58594

* updating whatsnew doc

* updates based on feedback from @mroeschke

* switching to default_index()
DOC:  add See Also section to series.to_dict (#59269)

add docstring to series.to_dict
Removed SA01 error for pandas.Series.to_frame. Added See Also section… (#59262)

* Removed SA01 error for pandas.Series.to_frame. Added See Also section to pandas.Series.to_frame. Modified ci/codecheks.sh and pandas/core/series.py.

* Update pandas/core/series.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/series.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Fix numpy docstring validation errors in pandas.Series.skew (#59266)

adding a see also section to pandas.Series.skew
BUG: Fix to_datetime not respecting dayfirst  (#58876)

* ENH: Warn when to_datetime falls back to dateutil when dayfirst is passed

* Assert warnings

* Remove warnings and fix functionality

* Add whatsnew, write test
DOC: fix PR07,RT03,SA01 for pandas.MultiIndex.drop (#59264)
DOC: fix PR02 for pandas.Grouper (#59259)
CI/DOC: Fix CI failure for Status: Draft PDEPs and don't show them on the roadmap webpage (#59254)

* CI: fix CI failure for PDEP with status: Draft

* Exclude draft PDEPs
ENH: Globally enable Cython free-threading directive (#59248)

* ENH: Globally enable Cython free-threading directive

This is the Cython equivalent of adding a `Py_mod_gil` slot with
`Py_MOD_GIL_NOT_USED` like we did in #59135.

* Use add_project_arguments

* Mark json with Py_MOD_GIL_NOT_USED & remove PYTHON_GIL env var from ci test job
DOC: add PR02 for pandas.DataFrame.plot (#59255)

* DOC: add PR02 for pandas.DataFrame.plot

* DOC: fix PR02 for pandas.Series.plot
BUG: `pandas.tseries.frequencies.to_offset()` raises `ValueError` when parsing a `LastWeekOfMonth` frequency string (#59245)

* add LastWeekOfMonth to prefix_mapping

* update whatsnew
Remove extra space in ``resample`` freq deprecation (#59251)

Remove extra space in resample freq deprecation
DOC: Add SA01 for pandas.api.types.is_unsigned_integer_dtype  (#59250)

adding see also
BUG: Fix 58807 (#59243)

* throw when frame apply is given invalid axis+func

* test that frame_apply throws on invalid func+axis

* add a note on unsupported func+axis combination for frame_apply

* add bug fix to release notes

* fix based on review comments

* test also with named axis

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* fix rst

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: .plot(kind='pie') with ArrowDtype (#59211)
CLN: More read_csv state (#59210)

* CLean up index methods

* Remove unused try_parse_dates

* Clean usecol and date processing

* Clean clear buffer

* remove some single use

* Typing
DOC: Added a missing docstring to pandas/conftest.py. (#59244)

Added a missing docstring to pandas/conftest.py

It came up in the pytest output. See function ea_scalar_and_dtype.

Co-authored-by: Henry Cuzco <40706933+uiucmeche1317@users.noreply.github.com>
DOC: Add SA01 for pandas.api.types.is_signed_integer_dtype (#59246)

* adding See Also section for is_signed_integer_dtype

* remove from code_check

* Remove pandas and additional line break

---------

Co-authored-by: Abhinav Thimma <athimma2@illinois.edu>
TST: unskip EA reduction tests (#59247)

unskip more EA reduction tests
BUG/TST: non-numeric EA reductions (#59234)

* BUG/TST: non-numeric EA reductions

* whatsnew

* add keepdims keyword to StringArray._reduce
BLD, CI: Use `cibuildwheel` to build Emscripten/Pyodide wheels, push nightlies to Anaconda.org (#58647)

* BLD: Add note about keeping jobs in sync

* BLD, CI: Upload Emscripten wheels nightly to Anaconda

* Add configuration for `cibuildwheel`-Pyodide

* Use unreleased `cibuildwheel` in wheels CI job

* Temporarily move config from TOML to env vars

* Rename job, to match update comment

* Try out Pyodide 0.26.1

* Move Pyodide configuration to `pyproject.toml`

* Use cibuildwheel v2.19 + clean up workflow

* Skip a test that uses subprocesses

* Match tests args with other Pyodide tests; use `not single_cpu`

* Bump to cibuildwheel version 2.19.1

* Don't add `cp312` in job name

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Don't use separate job for Pyodide wheels

* Fix matrix inclusion

* Add separate step, set `CIBW_PLATFORM` to Pyodide

* Add condition for non-Pyodide jobs

* Use just one step, inherit `CIBW_PLATFORM` if not set

Co-Authored-By: Thomas Li <47963215+lithomas1@users.noreply.github.com>

* Remove condition that skips the step

Co-Authored-By: Thomas Li <47963215+lithomas1@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>
DOC: Edited note on index_col/parse_dates params for clarity (#59223)

* Edited note on index_col/parse_dates params for clarity

(The sentence as it stands is missing a verb; maybe the result of an editing mishap?)

* Update doc/source/getting_started/intro_tutorials/04_plotting.rst

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: "list" is not a keyword - .query (#59236)

Fix documentation
modified the automatically generated docstring to include the return … (#59229)

* modified the automatically generated docstring to include the return type specification

* removed Series.skew from the list as is no longer giving error

---------

Co-authored-by: Borja Elizalde <elizalde.borja@bcg.com>
BUG: Add frequency to DatetimeArray/TimedeltaArray take  (#58382)

* add take function including frequency for Timedelta and Datetime Arrays

* add test for frequency of DatetimeIndex in MultiIndex

* use super() in take function

* add description to whatsnew and revert unwanted changes in datetimearray docstring

make pre-commit happy

* switch .freq to ._freq

---------

Co-authored-by: [Annika Rudolph] <[annika.rudolph@analytical-software.de]>
DOC: inline link (#59230)

avoid showing bare URL
CLN: enforced the deprecation of strings 'H', 'BH', 'CBH'  in favor of 'h', 'bh', 'cbh' (#59143)

* CLN: enforced the deprecation of strings ‘H’, ‘BH’, ‘CBH’  in favour of ‘h’, ‘bh’, ‘cbh’

* fix tests

* add a note to v3.0.0

* fixup

* add def INVALID_FREQ_ERR_MSG to dtypes.pxd

* Revert "add def INVALID_FREQ_ERR_MSG to dtypes.pxd"

This reverts commit 4085d5c3215c4cd6d022df702f2734a0106c40d1.

* remove dict c_REMOVED_ABBREVS, add msg if raise KeyError in get_reso_from_freqstr
REF: Move methods in core/reshape/util.py to where they are used (#59172)

* Move methods in core/reshape/util.py to where they are used

* Remove unit tests
Add support for NumpyExtensionArray in pd.unique() (#59214)

* Add support for NumpyExtensionArray in unique

* Add space to end of string
BUG: make JSONTableWriter fail if no index.name and 'index' in columns (#58985)

* BUG: make JSONTableWriter fail if no index.name and 'index' in columns

This commit is itended to fix GH #58925. If index.name is empty it will
use set_default_names inside __init__ to make check on overlapping names
fail. Otherwise it's done during schema creation and not reflected on
the dataframe itself which creates inconsistency between the data and
its schema.

add mention of the raised error to the `to_json` documentation

move new logic description from IO docs to to_json docstring

* Accept the suggestion by mroeschke

Rephrase the what's new addition

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
REF: Add back attr passing in concat by attribute (#59195)

* REF: Add back attr passing in concat by attribute

* define reference once
DOC: Add notes section to .isin() docs (#59201)

* Add note to doc

* Rephrase
DOC: Grammatically updated the tech docs "Package Overview" (#59206)

* Grammatically updated the tech docs

* Addressing the suggested change
Update read_html docs (#59209)
Bump pypa/cibuildwheel from 2.19.1 to 2.19.2 (#59208)

Bumps [pypa/cibuildwheel](https://github.com/pypa/cibuildwheel) from 2.19.1 to 2.19.2.
- [Release notes](https://github.com/pypa/cibuildwheel/releases)
- [Changelog](https://github.com/pypa/cibuildwheel/blob/main/docs/changelog.md)
- [Commits](https://github.com/pypa/cibuildwheel/compare/v2.19.1...v2.19.2)

---
updated-dependencies:
- dependency-name: pypa/cibuildwheel
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
ENH: Allow adjust=False when times is provided (#59142)

* add adjust parameter to the ewma variable times test. Add tests for disallowed decay-specification parameters when times is specified and adjust=False

* allow adjust=False when times is provided

* re-calculate alpha each iteration for irregular-spaced time series

* whatsnew entry for allowing adjust=False with times

* pre-commit style fixes

* reduce line lengths to comply with pre-commit

* reduce line lengths and apply ruff-reformat changes
CLEAN: Enforce pdep6 (#59007)

* enforce pdep6

* fixup Block.time_test benchmark

* update comment

* update warn to raise

* add missing assertion

* simplify

* remove default value for `raise_on_upcast`

* add whatsnew
51500: Add test for unexpected behavior math operations using multiin… (#59191)

51500: Add test for unexpected behavior math operations using multiindexes
DOC: added adbc connection in con parameter of to_sql and example of its usage (#59198)

* doc: to_sql docs should mention ADBC #59095

* remove two blank lines at the end of docstring.

* added one more space in in-line comments of example.
DOC: fix the Return type for pandas.Timestamp.asm8 (#59200)

updated documentation for asm8 return type
DOC: add SA01 for pandas.Period.now (#59202)
BUG: Fix .dt.microsecond accessor for pyarrow-backed Series (#59183)

* BUG: Fix .dt.microsecond accessor for pyarrow-backed Series

* Add whatsnew entry

* Write test
update algo.take to solve #59177 (#59181)

* update algo.take to solve #59177

* forgot to update TestExtensionTake::test_take_coerces_list

* fixing pandas/tests/dtypes/test_generic.py::TestABCClasses::test_abc_hierarchy

* ABCExtensionArray set formatting

---------

Co-authored-by: Laurent Mutricy <laurent.mutricy@ekium.eu>
REF: Minimize state in read_csv (#59194)

* Move some set parse_date_cols to pythong parser

* Clean up do_date_conversions

* Move can cast to python parser

* Move can cast to python parser

* Revert "Move can cast to python parser"

This reverts commit 99ca747bbc4c82934245384049a209459432221b.

* Typing issues
REF: Make concat not stateful. (#59141)

* Make concat non stateful

* Fix bug and error message

* Update check

* FIx typing
DEPR: lowercase strings `w`, `d`, `b` and ``c`` denoting frequencies in `Week`, `Day`, `BusinessDay` and `CustomBusinessDay` classes (#58998)

* deprecate lowercase 'd'

* fix tests, add tests

* deprecate lowercase alias 'b', fix tests

* fix tests and docs

* fix tests, fix an example in v0.20.0

* deprecate 'c',fix examples in v0.22.0, add tests and a note to v3.0.0

* correct examples in whatsnew

* update examples in user_guide/io.rst

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Fix for excelwriter engine for ods files (#59185)

doc fix for excelwriter engine for ods files
TST: Address UserWarning in matplotlib test (#59168)

* TST: Address UserWarning in matplotlib test

* Filter the warning instead
DOC: Series reduction return value descriptions (#59171)
DOC: add SA01 for pandas.Timestamp.time (#59169)
REF: Make read_json less stateful (#59124)

* REF: Make read_json less stateful

* Fix typing

* Clean up dataframe column casting

* Remove extra bool return

* Add whatsnew
[pre-commit.ci] pre-commit autoupdate (#59156)

* [pre-commit.ci] pre-commit autoupdate

updates:
- [github.com/astral-sh/ruff-pre-commit: v0.4.7 → v0.5.0](https://github.com/astral-sh/ruff-pre-commit/compare/v0.4.7...v0.5.0)
- [github.com/asottile/pyupgrade: v3.15.2 → v3.16.0](https://github.com/asottile/pyupgrade/compare/v3.15.2...v3.16.0)
- [github.com/pre-commit/mirrors-clang-format: v18.1.5 → v18.1.8](https://github.com/pre-commit/mirrors-clang-format/compare/v18.1.5...v18.1.8)

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

* Ingore E721

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
remove ops div class to solve #21374 (#59144)

* remove core.computation.ops.Div resolves #21374 #58748

* need to preserve order

* updating tests

* update whatsnew

* solve mypy issue

* fixing pytests

* better than cast

* adding specific test

* Update pandas/tests/frame/test_query_eval.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/tests/computation/test_eval.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Laurent Mutricy <laurent.mutricy@ekium.eu>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: add SA01 for pandas.Timestamp.now (#59159)
BUG: Allow show_versions to work for any module that raises an exception (#59114)

* BUG: Allow show_versions to work for any module that raises an exception

* Remove setuptools
Add Py_mod_gil slot to C extension modules (#59135)
BUG:  chokes on pd.DatetimeTZDtype if there are no rows. (#59123)

BUG: `pivot_table` chokes on pd.DatetimeTZDtype if there are no rows.

This is a follow up to #41875
CLN: unify a ValueError message for removed units T, L, U, N and remove these entries from UnitChoices (#59119)

cln: change msg in ValueError for units T, L, U, N
DOC: json_normalize breaking changes in pandas 3.0.0 (#59127)

* note breaking change in json_normalize retaining index

For context: #51542 & #57422

* Update doc/source/whatsnew/v3.0.0.rst

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
DOC: Update warning message in pandas.eval function (#59108)

* Update warning message in pandas.eval function

Modify warning to indicate the risks using eval func.

* Update pandas.eval function warning message - fix Docstring

* Update pandas/core/computation/eval.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/computation/eval.py

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: Add type check for encoding_errors in pd.read_csv (#59075)

* BUG: Add type check for encoding_errors in pd.read_csv

* BUG: Add type check for encoding_errors in pd.read_csv

* pre-commit

* Update pandas/io/parsers/readers.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Unit test

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/io/parsers/readers.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* update the unit test for `encoding_errors`

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* add a unit test

* update unit test

* update unit test

* update unit test

* update unit test

* Update pandas/tests/io/test_common.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/tests/io/test_common.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* update unit test

* update unit test

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
CI: Modify the trailing-whitespace hook to preserve markdown hard linebreaks (#59117)
BUG: `DataFrame.sparse.from_spmatrix` hard codes an invalid ``fill_value`` for certain subtypes (#59064)

* BUG: :bug: :sparkles: Add fill_value param to from_spmatrix method.

* ENH: :sparkles: Set explicit fill_value of NaN for complex floats.

* TST: :white_check_mark: Fix failing tests.

* TST: :white_check_mark: Add tests for from_spmatrix method.

* DOC: :memo: Add what's new entry.

* TST: :white_check_mark: Fix failing tests for sparse getitem.

* TST: :white_check_mark: Remove test for 256-bit complex float.

* DOC: :memo: Update example in docstring for from_spmatrix method.

* DOC: :memo: Update some docstrings and sparse user guide.

* DOC: :pencil2: Update dtype docstring.

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* BUG: :rewind: :bug: Revert fill_value change and fix to_coo method.

* TST: :rewind: :white_check_mark: Fix and add sparse accessor tests.

* TST: :rewind: :white_check_mark: Fix and add sparse getitem tests.

* DOC: :rewind: :memo: Revert fill_value change to sparse user guide.

* CLN: :pencil2: Fix instantiation of np.ma.array in test.

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fix Raises TypeError if any kind of string dtype is passed in (#59113)

Co-authored-by: fatslow <fatslow@web.de>
CI: Keep GIL disabled in free-threading CI (#59109)
CI: Set up CI for the free-threaded build of 3.13 (#59058)

* CI: Set up CI for the free-threaded build of 3.13

* Only run CI on ubuntu

* No need for prerelease pip anymore

* Update .github/workflows/unit-tests.yml

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
CLN: enforce the deprecation of the `Series.argsort` NA behavior (#58232)

* enforce deprecation of the Series.argsort NA behavior

* remove comments

* add a note to v3.0.0

* correct def argsort and tests

* correct def argsort/tests

* fix pre-commit error

* Restore numpy test

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DEPR: replace for Timedelta deprecated unit 'd' with 'D' in benchmarks (#59083)

replace deprecated  unit d with “D”
CLN: enforce deprecation of the Series[categorical].replace special-casing (#58270)

* enforce depr behavior df.replace / s.replace with CategoricalDtype

* fixup tests in frame/methods/test_replace.py

* fixup tests in arrays/categorical/test_replace.py and pandas/tests/copy_view/test_replace.py

* add a note to v3.0.0

* remove _replace and special-casing, fix tests

* fix tests

* Adjust tests and clarify whatsnew

* Fix pre-commit

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: True cannot be cast to bool in read_excel (#58994)

* Adding implementation, tests. Updating documentation

* Fixing dependency error by moving test inside of TestReaders

* Updating implementation based on reviewer feedback

* Creating a more clean implementation

* Fixing broken unit tests

* Fixing docstring error

* Updating implementation based on reviewer feedback. Adding additional unit tests

* Updating implementation based on reviewer feedback

* Updating implementation based on reviewer feedback

* Using datapath fixture

* Fixing failing unit test

* Removing unneeded file

* Fixing failing documentation test

* Updating unit test based on reviewer feedback
PERF: Use shallow copies/remove unnecessary copies in reshaping (#58959)
Fix insertion of None value in MultiIndex (#59069)

* Fix insertion of None value in MultiIndex

* add whatnew entry

* check for NA values using missing::isna

* adding test insertion of np.nan

* update whatsnew entry

* test case revision

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
TST: .loc dtype change bug (#59101)

* Naive test case for #29707

* Compare frames when testing loc dtype change for #29707

* Update pandas/tests/dtypes/test_dtypes.py

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Added a test for the groupby MultiIndex with codes (#59102)
RT03 fix in pandas.Series.pop docstring. (#59103)
DOC: Fix typo in `StylerRenderer.format` docstring (#59090)

Fix typo in `StylerRenderer.format` docstring
ENH: Add option to only merge column header cells in `ExcelFormatter`. (#59081)

* Add option to only merge column header cells in `ExcelFormatter`.

* Add entry in the whatsnew document

* Remove erroneous `:ref:` from docstring

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Correct typo in docstring

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Remove superfluous parentheses from if statement; better error message

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Fix missing double quote.

* Wording of whatsnew entry

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
BUG: Fix sparse doctests for SciPy 1.14.0 (#59094)
DOC: fix SA01, ES01 for pandas.Timestamp.tz (#59097)

* DOC: fix SA01, ES01 for pandas.Timestamp.tz

* DOC: fix SA01, ES01 for pandas.Timestamp.tz
DOC: document default behaviour of `sample` methods when `random_state = None` (#59073)

* Document the default None random_state of sample

Previously the default random state of the Series/DataFrame/GroupBy
`sample` methods was unclear as the documentation for the behaviour
when `random_state=None` was hidden in the
`pandas.core.common.random_state` helper function.

This commit documents how `sample` will just defer to the random state
of `numpy.random` when no `random_state` parameter is passed.

* Add Series.sample to GroupBy See Also docstring

* Format None type as code in doc strings
ENH: Fix Python 3.13 test failures & enable CI (#59065)

* ENH: Fix Python 3.13 test failures & enable CI

x-ref #58734

Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>

* Cast npy_intp to int to fix Windows CI

---------

Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>
CI: Clean GHA files (#59085)

* Bump postgres, mysql, moto

* Clean up other GHA items
TST: Fix some test builds for numpy 2.0 (#59046)

* TST: Fix some test builds for numpy 2.0

* 64 not 32

* Adjust some tests

* Revert "Adjust some tests"

This reverts commit ca28f250be92757fe3053019ff183139bb53fc56.

* Just pin numpy in pyarrow nightly build

* Mark test as pa under 17
DEPR: Change version to 4.0 in deprecate decorators (#58967)
REF: Prefer testing and documenting zoneinfo instead of pytz (#59016)

* REF: Prefer testing and documenting zoneinfo instead of pytz

* Fix tests

* Remove bad test case, fix bad attribute
BUG: DatetimeIndex.union with non-nano (#59037)

* BUG: DatetimeIndex.union with non-nano

* Add as_unit
BUG: Fix read_csv raising TypeError when iterator and nrows are specified without chunksize (#59080)

BUG: Fix read_csv raising TypeError when iterator and nrows are specified without a chunksize
DOC: fix SA01 for pandas.Timestamp.floor (#59070)

* DOC: fix SA01 for pandas.Timestamp.floor

* DOC: fix SA01 for pandas.Timestamp.floor
DEPS: Drop Python 3.9 (#58238)

* DEPS: Drop Python 3.9

* Update GHA files

* remove 3.8 ref in test file

* Move back to 3.9 for pypy

* Bump pyupgrade

* Run pyupgrade

* Remove pandas.compat.compressors

* Fix env file

* Wronge error message

* Ignore pypy

* Test package checks with 3.12

* Modify subprocess test

* revert conda-forge checks

* Remove 3.9 from circleci

* Pyupgrade

* Don't build 39 wheels
DOC: Change `to_numeric`'s `dtype_backend` default doc (#59021)

* DOC: Change `to_numic`'s `dtype_backend` default doc

* improve

* improve

* improve
DEPR: deprecate units 'w', 'd', 'MS', 'US', 'NS' for Timedelta in favor of  'W', 'D', 'ms', 'us', 'ns' (#59051)

* deprecate lower/uppercase units for Timedelta

* correct examples in timedeltas.rst, add a note to v.3.0.0

* fix tests

* add tests, fix tests, corrected docs examples

* correct docs

* fix an example in v0.13.0
DOC: Correct typo in pandas.pivot_table doc (#59056)

Correct typo

Missing 's'
DOC: add SA01 for pandas.Series.ge (#59067)
DOC: fix SA01 for pandas.Timedelta.days (#59068)

* DOC: fix SA01 for pandas.Timedelta.days

* DOC: fix SA01 for pandas.Timedelta.days
DOC: Typo in missing_data.rst (#59061)

Typo in missing_data.rst

*compaisons -> comparisons
DOC: Fix diction: "e.g." -> "i.e." (#59047)

Fix diction: "e.g." -> "i.e."

"e.g." means "for example", "i.e." means "that is"
Fix wrong save of datetime64[s] in HDFStore (#59018)

* Fix wrong save of datetime64[s] in HDFStore

* generic datetime unit parsing

* use tmp_path

* Adding entry to whatsnew

* datetime64 dtype parsing using numpy api

* move whatsnew entry

* update test comment

* update hdfstore dtypes test case

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
REF: Use `default_index` or preserve original Index type for empty-like results (#59035)

* Use more default_index for empty cases

* fix tests

* Update number

* Address typing
BUG: fixed Series.dt methods in ArrowDtype class that were returning incorrect values #57355 (#58052)

BUG: fixed Series.dt methods in ArrowDtype class that were returning incorrect time values. (#57355)
DOC: fix typos in User Guide (#59040)

* DOC: fix two typos in User Guide io.rst

* DOC: fix typo in timeseries.rst

* DOC: fix typo in options.rst

* DOC: fix typo in missing_data.rst

* DOC: fix typo in io.rst

* DOC: fix grammar error in basics.rst
DOC: fix PR07,RT03 for pandas.merge_asof (#59044)
CLN: BaseGrouper (#59034)
DOC: fix SA01 for pandas.NamedAgg (#59029)
DOC: fix SA01 for pandas.Timedelta.as_unit (#59030)
PREF: Fix regression from #58984 (#59025)

* check uses_mask before

* backup gh

* backup gh
DOC: update the documentation for Timestamp: add to parameters the missing unit 'W' and an example (#59033)

add 'W'as a valid unit for Timestamp
Bump pypa/cibuildwheel from 2.18.1 to 2.19.1 (#59027)

Bumps [pypa/cibuildwheel](https://github.com/pypa/cibuildwheel) from 2.18.1 to 2.19.1.
- [Release notes](https://github.com/pypa/cibuildwheel/releases)
- [Changelog](https://github.com/pypa/cibuildwheel/blob/main/docs/changelog.md)
- [Commits](https://github.com/pypa/cibuildwheel/compare/v2.18.1...v2.19.1)

---
updated-dependencies:
- dependency-name: pypa/cibuildwheel
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Change link from NEP 29 to SPEC 0 for Numpy Guidelines (#59017)

* Change link from NEP 29 to SPEC 0 for Numpy Guidelines

* Update doc/source/development/policies.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
CI: remove xfail in test_to_xarray_index_types  (#59013)

* CI: xfail test_to_xarray_index_types only on v2024.5

* Remove xfail
PERF: Use reshape instead of ravel/flatten (#58972)

* Use reshape instead of flatten

* Use reshape instead of ravel'

* add back tuple
PERF/CLN: Avoid ravel in plotting (#58973)

* Avoid ravel in plotting

* Use reshape instead of ravel

* Add type ignore
PERF: Use shallow copies/defer copies in io (#58960)
PERF: Only copy in plotting when needed (#58958)

* PERF: Only copy in plotting when needed

* Remove more unnecessary copies
BUG: Fix issue with negative labels in `group_cumsum` (#58984)

* BUG: Fix issue with negative labels in group_cumsum function

* Remove blank line

* Revert remove blank line

* Add test

* Add what's new

* typo
WEB: Correctly link to PR (#59011)

DOC: Correctly link to PR in PDEP-1
PERF: cache plotting date locators for DatetimeIndex plotting (#58992)

* PERF: cache plotting date locators for DatetimeIndex plotting

* Type vmin, vmax
DOC: Miss. -> Miss and Master. -> Master (#59001)
BUG: eval fails for ExtensionArray (#58793)
DOC: add examples to clarify the behavior of `is_year_start` for business offsets (#58975)

* add examples to is_year_start

* add missing spaces

* remove unnecessary spaces

* add missing parentheses

* update is_year_start example
ENH add *args support for numba apply (#58767)

* add *args for raw numba apply

* add whatsnew

* fix test_case

* fix pre-commit

* fix test case

* add *args for raw=False as well; merge tests together

* add prepare_function_arguments

* fix mypy

* update get_jit_arguments

* add nopython test in `test_apply_args`

* fix test

* fix pre-commit
DOC: fix PR07 for pandas.merge (#58979)
DOC: fix SA01 for pandas.MultiIndex.nlevels (#58976)
BUG: byteorder option in to_stata is not honoured when writing strL data (#58970)

* BUG: byteorder option in to_stata is not honoured when writing strL data

* Check whether requested byteorder matches the current system once, and store the result
DOC: Update typo in missing_data.rst (#58968)
DOC: added see also to docstrings in mean and median (#58951)

* added see also to docstrings

* fixed typing

* Updated code check
BUG: Unable to open Stata 118 or 119 format files saved in big-endian… (#58640)

* BUG: Unable to open Stata 118 or 119 format files saved in big-endian format that contain strL data

* Rename test functions to make their purpose clearer
TST: add tests for DatetimeIndex.is_year_start/is_quarter_start on "BMS" frequency (#58691)

* bug-DatetimeIndex-is_year_start-breaks-on-freq-BusinessMonthStart

* correct def get_start_end_field

* fixup

* parametrize test, and a note to v3.0.0
BUG: DateTimeIndex.is_year_start unexpected behavior when constructed with freq 'MS' date_range (#57377) (#57494)

* Added some comments to where the bug is occurring

* Potential fix, passed all potentially relevant tests

* Very likely fix

* Reverted ro previous start/end scheme; added tests

* Added fixes to whatsnew doc

* Removed stray comment

* Fixed alphabetical problem in whatsnew

* add parametric test

* fixup

---------

Co-authored-by: Marco Gorelli <33491632+MarcoGorelli@users.noreply.github.com>
Fix link wording in "10 Minutes to Pandas" (#58961)

Fix link wording

Current wording is grammatically incorrect and does not match the target page's title - updated to match.
DOC: fix PR07,SA01 for pandas.qcut (#58957)
REF/CLN: Standardized matplotlib imports (#58937)

* Use standard import matplotlib as mpl

* Standardaize more matplotlib imports

* Fix matplotlib units

* Reduce diff a little more

* Import matplotlib dates

* satisfy pyright
CLN: enforce deprecation of frequencies deprecated for offsets (#57986)

* enforce deprecation of offset deprecated freqstr

* fix tests

* fix mypy error

* add a note to v3.0.0

* remove c_REVERSE_OFFSET_REMOVED_FREQSTR, correct tests

* fix test_to_period_offsets_not_supported

* correct to_offset, fix tests

* add dict PERIOD_TO_OFFSET_FREQSTR, corect meth to_offset, fix tests

* add a comment

* create dictionary PERIOD_AND_OFFSET_ALIASES

* correct def to_offset

* fixup

* fixup

* replace c_OFFSET_RENAMED_FREQSTR with c_PERIOD_TO_OFFSET_FREQSTR

* add cimport c_PERIOD_TO_OFFSET_FREQSTR

* add a helper function for error reporting

* minor whatsnew fix

---------

Co-authored-by: Marco Edward Gorelli <marcogorelli@protonmail.com>
Co-authored-by: Marco Gorelli <33491632+MarcoGorelli@users.noreply.github.com>
DOC: minor grammar fix "en -> and" (#58953)

doc: typo - en -> and
ENH: Add **kwargs to pivot_table to allow the specification of aggfunc keyword arguments #57884 (#58893)

Co-authored-by: Pedro Freitas <pedrogmfreitas@tecnico.ulisboa.pt>
Co-authored-by: Rui Amaral <rui.miguel.amaral@tecnico.ulisboa.pt>
DOC: Add notes to nullable types documentation about pd.NA column type (#58163)
REF: Make _slice_take_blocks_ax0 a generator (#58805)

* REF: Make _slice_take_blocks_ax0 a generator

* Remove []
DOC: correct examples for Resample a time series for clarity (#58947)

update documentation for resample a time series to another frequency
DOC: fix PR07 for pandas.merge_ordered (#58936)
DOC: fix PR07 for pandas.pivot (#58935)
DOC: fix SA01 for pandas.read_spss (#58934)
BUG/df.agg-with-df-with-missing-values-results-in-IndexError (#58864)

* fix

* improve and fix bug entry

* update

---------

Co-authored-by: 121238257 <abeltavares@users.noreply.github.com>
CLN: Plotting testing asserters (#58922)
CLN: Remove downcast keyword in MultiIndex.fillna (#58923)
CLN: Matplotlib imports in style (#58921)

Use import_optional_dependency in style.py
Update compute_dict_like to get all columns (#58452)

* Update compute_dict_like to get all columns

* Add tests

* Update rst

* Remove newline from rst

* Project the columns before converting to series group by

* retrigger doc build

* Account for 1d/series projection result

* Declare var before assignment

* Remove if condition

* Add test to test agg list funcs

---------

Co-authored-by: Kei <keiwork111@gmail.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
CLN: Plotting tests 2 (#58910)

* Refactor test_converter

* clean test_boxplot method

* cleann test_hist_method
CLN: Plotting tests (#58905)

* Clean some plotting tests

* Cleann test_misc

* Format test_datetimelike

* clean more datetimelike
CI: Update CircleCI configs (#58908)

* CI: Update CircleCI configs

* Fix workflow

* add mamba path

* Use conda env create

* Remove workaround?
DOC: fix PR07 for pandas.pivot_table (#58896)

* DOC: fix PR07 for pandas.pivot_table

* DOC: remove redundant comments

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>

---------

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
DOC: fix SA01 for pandas.describe_option (#58914)
DOC: fix RT03,SA01 for pandas.bdate_range (#58917)
Proofreading/editing Getting Started for readability. Attempt 2, this time without extra files. (#58919)

Proofreading/editing Getting Started for readability. Attempt2
DEPR: make_block (#57754)
DEPR: DataFrameGroupBy.corrwith (#58732)
[pre-commit.ci] pre-commit autoupdate (#58903)

* [pre-commit.ci] pre-commit autoupdate

updates:
- [github.com/astral-sh/ruff-pre-commit: v0.4.3 → v0.4.7](https://github.com/astral-sh/ruff-pre-commit/compare/v0.4.3...v0.4.7)
- [github.com/codespell-project/codespell: v2.2.6 → v2.3.0](https://github.com/codespell-project/codespell/compare/v2.2.6...v2.3.0)
- [github.com/pre-commit/mirrors-clang-format: v18.1.4 → v18.1.5](https://github.com/pre-commit/mirrors-clang-format/compare/v18.1.4...v18.1.5)

* Add codespell ignores

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
REF: Remove BlockManager.arrays in favor of BlockManager.blocks usage (#58804)

* REF: Remove BlockManager.arrays in favor of BlockManager.blocks usage

* Add back arrays

* Whitespace
CLN: Stopped object inference in constructors for pandas objects (#58758)

* CLN: Stopped object inference in constructors for pandas objects

* Adjust tests
ENH: Restore support for reading Stata 104 format dta files, and add support for 103 (#58555)
BUG: Check `min_periods` before applying the function (#58886)

* Check min_periods before calling the function

* Update whatsnew
Removed duplicated description of cumsum and cumprod methods (#58902)
DOC: fix SA01 for pandas.option_context (#58897)
DOC: fix RT03,SA01 for pandas.plotting.autocorrelation_plot (#58895)
DOC: fix PR07,RT03,SA01 for pandas.plotting.parallel_coordinates (#58894)
DOC: fix SA01 for pandas.read_orc (#58891)
DOC: fix PR07,RT03,SA01 for pandas.plotting.table (#58892)
DOC: fix SA01 for pandas.reset_option (#58890)
DOC: fix SA01 for pandas.show_versions (#58889)
DOC: fix PR07,SA01 for pandas.testing.assert_series_equal (#58888)
DOC: fix PR07 for pandas.unique (#58887)
DOC: fix SA01 for pandas.plotting.plot_params (#58885)
DOC: fix SA01 for pandas.read_feather (#58884)
DOC: fix SA01 for pandas.read_sas (#58883)

* DOC: fix SA01 for pandas.read_sas

* DOC: fix SA01 for pandas.read_sas
DOC: fix SA01 for pandas.set_option (#58882)
DOC: fix SA01 for pandas.test (#58881)
DOC: fix PR07,SA01 for pandas.testing.assert_index_equal (#58880)
DOC: fix SA01 for pandas.timedelta_range (#58879)
DOC: fix PR02 for pandas.tseries.offsets.YearEnd (#58878)
DOC: fix PR07,SA01 for pandas.util.hash_array (#58877)
Bump pypa/cibuildwheel from 2.18.0 to 2.18.1 (#58840)

Bumps [pypa/cibuildwheel](https://github.com/pypa/cibuildwheel) from 2.18.0 to 2.18.1.
- [Release notes](https://github.com/pypa/cibuildwheel/releases)
- [Changelog](https://github.com/pypa/cibuildwheel/blob/main/docs/changelog.md)
- [Commits](https://github.com/pypa/cibuildwheel/compare/v2.18.0...v2.18.1)

---
updated-dependencies:
- dependency-name: pypa/cibuildwheel
  dependency-type: direct:production
  update-type: version-update:semver-patch
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
PERF: more realistic np datetime c benchmark (#58165)

* make input range for np_datetime.c benchmark more realistic

* fix random numbers

* fix import

* add new benchmark
ENH/WIP: resolution inference in pd.to_datetime, DatetimeIndex (#55901)

* ENH: read_stata return non-nano

* GH ref

* move whatsnew

* remove outdated whatsnew

* ENH: read_stata return non-nano

* avoid Series.view

* dont go through Series

* TST: dt64 units

* BUG: cut with non-nano

* BUG: round with non-nanosecond raising OverflowError

* woops

* BUG: cut with non-nano

* TST: parametrize tests over dt64 unit

* xfail non-nano

* revert

* BUG: mixed-type mixed-timezone/awareness

* commit so i can unstash something else i hope

* ENH: infer resolution in to_datetime, DatetimeIndex

* revert commented-out

* revert commented-out

* revert commented-out

* remove commented-out

* remove comment

* revert unnecessary

* revert unnecessary

* fix window tests

* Fix resample tests

* restore comment

* revert unnecessary

* remove no-longer necessary

* revert no-longer-necessary

* revert no-longer-necessary

* update tests

* revert no-longer-necessary

* update tests

* revert bits

* update tests

* cleanup

* revert

* revert

* parametrize over unit

* update tests

* update tests

* revert no-longer-needed

* revert no-longer-necessary

* revert no-longer-necessary

* revert no-longer-necessary

* revert no-longer-necessary

* Revert no-longer-necessary

* update test

* update test

* simplify

* update tests

* update tests

* update tests

* revert no-longer-necessary

* post-merge fixup

* revert no-longer-necessary

* update tests

* update test

* update tests

* update tests

* remove commented-out

* revert no-longer-necessary

* as_unit->astype

* cleanup

* merge fixup

* revert bit

* revert no-longer-necessary, xfail

* update multithread test

* update tests

* update doctest

* update tests

* update doctests

* update tests

* update db tests

* troubleshoot db tests

* update test

* troubleshoot sql tests

* update test

* update tests

* mypy fixup

* Update test

* kludge test

* update test

* update for min-version tests

* fix adbc check

* troubleshoot minimum version deps

* troubleshoot

* troubleshoot

* troubleshoot

* whatsnew

* update abdc-driver-postgresql minimum version

* update doctest

* fix doc example

* troubleshoot test_api_custom_dateparsing_error

* troubleshoot

* troubleshoot

* troubleshoot

* troubleshoot

* troubleshoot

* troubleshoot

* update exp instead of object cast

* revert accidental

* simplify test
updating df.query and df.eval docstrings. resolves #16283 (#58749)

* updating df.query and df.eval docstrings. resolves #16283

* typo

* adding 1 example

* changing wording following example added

* updating 'C C' to  'C&C' for eval

* updating 'C C' to 'C&C' for query

---------

Co-authored-by: Laurent Mutricy <laurent.mutricy@ekium.eu>
upadting doc string  (#58830)

* upadting doc string

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

* Empty-Commit

* updating doc string :msg

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
DOC: Fix reference to api.typing.NaType (#58871)
corrects-spelling-mistake-in-merging.rst (#58874)

Changed 'mactches' to 'matches'
DOC: fix SA01 for pandas.Period.quarter (#58841)
DOC: Fix docstring error SA01 for pandas.Dataframe.plot, pandas.Series.plot, pandas.core.groupby.DataFrameGroupBy.plot, pandas.core.groupby.SeriesGroupBy.plot (#58842)

* Updated See Also for pandas.Dataframe.plot - S01

* Updating pandas.Series.plot to pass SA01 docstring test

* Updating pandas.core.groupby.DataFrameGroupBy.plot to pass SA01 docstring test

* Updating pandas.core.groupby.SeriesGroupBy.plot to pass SA01 docstring test
DOC: fix SA01 for pandas.Period (#58838)
DOC: fix SA01 for pandas.Period.is_leap_year (#58839)
DOC: fix SA01 for pandas.MultiIndex.truncate (#58837)
DOC: fix SA01 for pandas.MultiIndex.set_codes (#58836)
DOC: fix SA01 for pandas.MultiIndex.levels (#58835)
DOC: fix SA01 for pandas.MultiIndex.dtypes (#58834)
DOC: fix PR01 for pandas.MultiIndex (#58833)
DOC: Add note about deprecated offset aliases (#58861)

DOC: Add note about alias deprecations

The PRs #55792 (Y), #52064 (Q), and #55553 (M) deprecated the single letter
version of the aliases in favour of the -end version of them.

Add a note to the offset table about deprecations.
CLN: use isnan() instead of the Py_IS_NAN macro (#58850)
BUG: Let `melt` name multiple variable columns for labels from a `MultiIndex` (#58088)

* Let melt name variable columns for a multiindex

* Respond to comments

* Check is_iterator
DOC: Instruct to run git bisect when triaging a regression report (#58813)

* DOC: Instruct to run git bisect when triaging a regression report

* Fix typo

* Suggest to add regression label
DOC: Document Remote Code Execution risk for Dataframe.query and computation.eval (#58697)
REF: Use more lazy iterators (#58808)
DOC: fix typos in User Guide (#58801)

* DOC: Fix typo in merging.rst

- fix typo in the User Guide

* DOC: Fix typo in timeseries.rst

* DOC: Fix typo in style.ipynb
BUG: unstack with sort=False fails when used with the level parameter… (#56357)

* BUG: unstack with sort=False fails when used with the level parameter (#54987)

Assign new codes to labels when sort=False. This is done so that the data appears to be already sorted,
fixing the bug.

* Minor refactor and cleanup

* Cleanup & remove test

* whatsnew

* Revert test removal

---------

Co-authored-by: richard <rhshadrach@gmail.com>
Co-authored-by: Richard Shadrach <45562402+rhshadrach@users.noreply.github.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: add RT03 for pandas.interval_range (#58800)
REF: Convert list comprehensions into lazy iterators (#58798)
TST: Clean groupby tests (#58797)
 DOC: Fix typo in merging.rst (#58796)

DOC: Fix typo in merging.rst

- fix typo in the User Guide
CLN: groupby test (#58777)

* Clean test_cumulative

* Clean test_counting

* Clean test_filters

* Undo change
REF: Break up stack_v3 (#58792)
DOC: add SA01 for pandas.get_option (#58794)
DOC: add RT03 and fix EX01 for pandas.Series.sum (#58778)

DOC: add RT03 for pandas.Series.sum
DOC: add SA01 for pandas.Series.to_string (#58779)
DOC: add PR07,SA01 for pandas.Timedelta (#58780)

* DOC: add PR07,SA01 for pandas.Timedelta

* DOC: fix SA01, PR07
DOC: add SA01 for pandas.Timestamp.weekday (#58781)
DOC: fix PR02 for pandas.tseries.offsets.BMonthBegin and pandas.tseries.offsets.BusinessMonthBegin (#58782)

DOC: fix PR02
DOC: fix PR02 for pandas.tseries.offsets.BQuarterEnd and pandas.tseries.offsets.QuarterEnd (#58783)

DOC: fix PR02
DOC: add RT03,SA01 for pandas.api.extensions.ExtensionArray._hash_pandas_object (#58784)
DOC: add SA01 for pandas.api.extensions.ExtensionArray.shift (#58785)
DOC: add SA01 for pandas.api.types.is_datetime64_any_dtype (#58786)
DOC: add SA01 for pandas.api.types.is_timedelta64_dtype (#58787)
Typo fix in `MilliSecondLocator` for #35393 (#58788)

Typo fix in MilliSecondLocator for #35393

This locator takes effect when a datetime x-range axis is < 5 seconds
(among a few other conditions), and the typo causes only one xtick
at the very left to be displayed.
DOC: add SA01 for pandas.Series.eq (#58759)

* DOC: add SA01 for pandas.Series.eq

* DOC: remove SA01 for pandas.Series.eq
DOC: add RT03,SA01 for pandas.Series.kurt and pandas.Series.kurtosis (#58761)

* DOC: add RT03,SA01 for pandas.Series.kurt

* DOC: remove RT03,SA01 for pandas.Series.kurt
DOC: add SA01 for pandas.Timestamp.ceil (#58762)

* DOC: add SA01 for pandas.Timestamp.ceil

* DOC: remove SA01 for pandas.Timestamp.ceil
DOC: add SA01 for pandas.api.extensions.ExtensionArray._from_sequence_of_strings (#58766)
DOC: add SA01,EX01 for pandas.api.extensions.ExtensionArray.equals (#58768)
DOC: add PR07,SA01 for pandas.api.types.infer_dtype (#58769)
DOC: add SA01 for pandas.api.types.is_scalar (#58770)
DOC: add PR02 for pandas.tseries.offsets.Day (#58765)
DOC: add SA01 for pandas.Timestamp.isocalendar (#58763)

* DOC: add SA01 for pandas.Timestamp.isocalendar

* DOC: remove SA01 for pandas.Timestamp.isocalendar
DOC: add SA01 for pandas.tseries.api.guess_datetime_format (#58756)

* DOC: add SA01 for pandas.tseries.api.guess_datetime_format

* DOC: remove SA01 for pandas.tseries.api.guess_datetime_format

* DOC: incorporate review suggestions

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>

---------

Co-authored-by: mroeschke <mroeschke@users.noreply.github.com>
DOC: add SA01 ES01 for pandas.Timestamp.tz_convert and pandas.Timestamp.astimezone (#58757)

DOC: add SA01 for pandas.Timestamp.tz_convert
DOC: Add SA01 for pandas.Series.le (#58755)

* DOC: add SA01 for pandas.Series.le

* DOC: remove SA01 for pandas.Series.le
DOC: Add SA01 ES01 for pandas.Timestamp.dst (#58752)

* DOC: add SA01 ES01 for pandas.Timestamp.dst

* DOC: remove SA01 ES01 for pandas.Timestamp.dst

* DOC: add SA01 ES01 for pandas.Timestamp.dst
DOC: Add SA01 ES01 for pandas.Timestamp.is_leap_year (#58753)

* DOC: add SA01 ES01 for pandas.Timestamp.is_leap_year

* DOC: remove SA01 ES01 for pandas.Timestamp.is_leap_year
CLN: Stopped casting values in Series/Index.isin for datelike dtypes (#58645)

* CLN: Stopped casting values in Series/Index.isin for datelike dtypes

* Support mixed case

* Avoid infer_objects
FIX: Keep CachedAccessor alias for downstream libraries (#58754)
DOC: Add SA01 ES01 for pandas.Series.dt.components (#58751)

* DOC: add SA01 ES01 for pandas.Series.dt.components

* DOC: remove SA01 ES01 for pandas.Series.dt.components
DOC: Sort whatsnew 3.0 entries (#58745)
DOC: Update orc.py to say orc instead of parquet (#58744)

Update orc.py to say orc instead of parquet
CLN: Require ExtensionArray._reduce(keepdims=) (#58739)
CLN: Misc copy-on-write cleanups (#58741)

* CLN: Remove using_cow

* Remove unused contexts

* Remove some COW comments in arrow

* Remove other copy
DOC: Whatsnew for DataFrameGroupBy.__len__ with NA values bugfix (#58742)

* DOC: Whatsnew for DataFrameGroupBy.__len__ with NA values bugfix

* Update doc/source/whatsnew/v3.0.0.rst

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fix formatting of date_format special options (#58740)
PERF: Eliminate circular references in accessor attributes (#58733)
CI: Clear CI caches daily instead of weekly (#58710)
DOC: fix SA01 error for pandas.Series.swaplevel  (#58736)

* DOC: add SA01 to pandas.Series.swaplevel

* DOC: remove SA01 to pandas.Series.swaplevel
DOC: add PR01,RT03,SA01 to pandas.Series.var docstring (#58735)

* DOC: add PR01,RT03,SA01 to pandas.Series.var

* DOC: remove PR01,RT03,SA01 to pandas.Series.var
STY: Enable all sphinx-lint rules (#58689)
DEPR: Deprecate method argument of reindex_like (#58724)

* deprecate 'method' argument in NDFrame.reindex_like

* fix whatsnew order

* included FutureWarning assertion in test_datetime_index.py

* repositioned deprecation in docstring
CLN: Remove deprecated read_csv(delim_whitespace=) (#58668)

* CLN: Remove deprecated read_csv(delim_whitespace=)

* Clarify notes

* Fix some arrow failures

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Abdulaziz Aloqeely <52792999+Aloqeely@users.noreply.github.com>

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: Abdulaziz Aloqeely <52792999+Aloqeely@users.noreply.github.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
CLN: Stopped dtype inference in sanitize_array with Index[object] (#58655)
DOC: Fix Docstring validation for pandas.Series.floordiv and others (#58725)

* added description for 'other' parameter

* remove fixed checks

* removed more fixed checks

* remove more fixed checks
BUG: Fixed ChainedAssignmentError link to documentation will break? #58716 (#58726)

Fix #58716
DOC: Added clarification for the input to pandas.core.series.Series (#58728)

Updated docstring for Series()
CI: xfail test_to_xarray_index_types due to new 2024.5 release (#58719)

CI: xfail test_to_xarray_index_types
DOC: Fix PR07 for pandas.Series.div and pandas.Series.truediv (#58718)

* DOC: remove PR01 for pandas.Series.div and truediv

* DOC: add PR01 for pandas.Series.div and truediv
DOC: Fix SA01 ES01 for pandas.Timestamp.round (#58700)

* DOC: add SA01,ES01 for pandas.Timestamp.round

* DOC: remove SA01,ES01 for pandas.Timestamp.round

* DOC: change docstring in sync with pandas.Timestamp.round
DOC: Fix SA01 ES01 for pandas.Timestamp.to_pydatetime (#58701)

* DOC: add SA01,ES01 for pandas.Timestamp.to_pydatetime

* DOC: add SA01,ES01 for pandas.Timestamp.to_pydatetime

* DOC: remove SA01,ES01 for pandas.Timestamp.to_pydatetime

* DOC: change docstring in sync with pandas.Timestamp.to_pydatetime
DOC: fix PR02 for pandas.tseries.offsets.MonthEnd methods (#58703)

* DOC: add PR02 for MonthEnd methods

* DOC: remove PR02 for MonthEnd methods

* DOC: restore SA01 for pandas.tseries.offsets.SemiMonthEnd

* DOC: restore CustomBusinessMonthEnd

* DOC: restore pandas.tseries.offsets.CBMonthEnd PR02
DOC: Fix typo in indexing.rst (#58717)

Fix typo in "Returning a view versus a copy" section
DOC: Update Python version support (#58680)

* DOC: Update Python version support

* Link to version policy

* Capitalize Python
TST: Fix CI failures (don't xfail postgresql / don't xfail for pyarrow=16) (#58693)

* TST: Fix test failures for test_api_read_sql_duplicate_columns and test_multi_thread_string_io_read_csv

* Fix line length

* xfail if pyarrow version < 16

* check name

* Remove `strict` argument

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
CLN: int slice on Index[float] as positional (#58646)
Bump pypa/cibuildwheel from 2.17.0 to 2.18.0 (#58695)

Bumps [pypa/cibuildwheel](https://github.com/pypa/cibuildwheel) from 2.17.0 to 2.18.0.
- [Release notes](https://github.com/pypa/cibuildwheel/releases)
- [Changelog](https://github.com/pypa/cibuildwheel/blob/main/docs/changelog.md)
- [Commits](https://github.com/pypa/cibuildwheel/compare/v2.17.0...v2.18.0)

---
updated-dependencies:
- dependency-name: pypa/cibuildwheel
  dependency-type: direct:production
  update-type: version-update:semver-minor
...

Signed-off-by: dependabot[bot] <support@github.com>
Co-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
TST: Test searchsorted for monotonic decreasing index (#58692)
DOC: Grammar improvements in getting started tutorials (#58706)
Sentence restructured in compare methods's doc (#58708)

* There was a typo in user_guide doc ,particulary in documentation of merge,join ,concatenate and compare
which after fixing is more grmatically correct and making more sense now

* A sentence from section Merge,join,concatenate and compare in user guide doc -specifically in compare method's  docs,
has been restructured so that it is more easy to comprehend ,earlier more obscure sentence has now been simplified by just adding few words more
DOC:  add SA01 for pandas.api.extensions.ExtensionArray.shape (#58705)

* DOC: add SA01 for pandas.api.extensions.ExtensionArray.shape

* DOC: remove SA01 for pandas.api.extensions.ExtensionArray.shape
DOC: add RT03,SA01 for pandas.api.extensions.ExtensionArray.copy (#58704)

* DOC: add RT03,SA01 for pandas.api.extensions.ExtensionArray.copy

* DOC: remove RT03,SA01 for pandas.api.extensions.ExtensionArray.copy
DOC: Fix PR02 for pandas.tseries.offsets.BYearBegin and pandas.tseries.offsets.YearBegin (#58702)

* DOC: fixed PR02 for pandas.tseries.offsets.YearBegin

* DOC: remove PR02 for pandas.tseries.offsets.YearBegin
DOC: Fix Docstring Validation for pandas.Series.str.translate (#58699)

* DOC: add RT03,SA01 for pandas.Series.str.translate

* DOC: remove RT03,SA01 for pandas.Series.str.translate
DOC: Fix Docstring Validation for pandas.Series.case_when (#58698)

* DOC: add RT03 for pandas.Series.case_when

* DOC: remove RT03 for pandas.Series.case_when
DOC: Add GL08 for pandas.intervalIndex.left (#58687)

* DOC: add GL08 for pandas.IntervalIndex.left

mroeschke

* DOC: remove GL08 for pandas.IntervalIndex.left

Co-authored-by: mroeschke

* DOC: fix example for iv_idx.left
DOC: Fix SA01 for pandas.SparseDtype (#58688)

* DOC: add SA01 for pandas.SparseDtype

* DOC: remove SA01 for pandas.SparseDtype
DOC: add RT03,SA01 for pandas.IntervalIndex.set_closed and pandas.arrays.IntervalArray.set_closed (#58683)

* DOC: add RT03,SA01 for pandas.IntervalIndex.set_closed and pandas.arrays.IntervalArray.set_closed

* DOC: remove RT03,SA01 for pandas.IntervalIndex.set_closed and pandas.arrays.IntervalArray.set_closed
DOC: add PR07 for pandas.Index (#58682)

* DOC: add PR07 for pandas.Index

* DOC: remove PR07 for pandas.Index
A  typo in user guide doc  (#58686)

There was a typo in user_guide doc ,particulary in documentation of merge,join ,concatenate and compare
which after fixing is more grmatically correct and making more sense now
BUG: DatetimeIndex.is_year_start breaks on custom business days frequencies bigger then `1C` (#58665)

* fix bug dti.is_year_start breaks on freq custom business day with digit

* rename the variable freqstr

* delete double space
DOC: Enforce Numpy Docstring Validation Timestamp.week (#58674)

* DOC: add SA01 to Timestamp.week

* remove from code_checks

* remove weekofyear alias from code_checks
DOC:  Enforce Numpy Docstring Validation - Timestamp.strftime and Timestamp.isoformat (#58677)

* DOC: add See also section to Timestamp.strftime and Timestamp.isoformat

* ensure NaT.strftime  docstring matches Timestamp.strftime
DOC: Add SA01 for pandas.Timestamp.asm8 (#58676)

* DOC: add SA01 for pandas.Timestamp.asm8

* DOC: remove SA01 for pandas.Timestamp.asm8
DOC: Fix Docstring Validation for pandas.Series.cat  (#58675)

* DOC: add PR07 pandas.Series.cat

* DOC: remove PR07 pandas.Series.cat
DOC: Enforce Numpy Docstring Validation for pandas.Series.add (#58673)

* DOC: add PR07 pandas.Series.add

* DOC: remove PR07 pandas.Series.add
DOC: Enforce Numpy Docstring Validation for pandas.IntervalIndex.to_tuples and pandas.arrays.IntervalArray.to_tuples (#58672)

* DOC: add RT03,SA01 to pandas.IntervalIndex.to_tuples

* DOC: remove RT03,SA01 to pandas.IntervalIndex.to_tuples
DOC: Enforce Numpy Docstring Validation for pandas.IntervalIndex.length (#58671)

* DOC: add GL08 for pandas.IntervalIndex.length

* DOC: remove GL08 for pandas.IntervalIndex.length
DOC: Enforce Numpy Docstring Validation for pandas.IntervalIndex.is_non_overlapping_monotonic and pandas.arrays.IntervalArray.is_non_overlapping_monotonic (#58670)

* DOC: add SA01 for pandas.IntervalIndex.is_non_overlapping_monotonic

* DOC: remove SA01 for pandas.IntervalIndex.is_non_overlapping_monotonic
BUG: Improve error message when `transfrom()` with incorrect axis (#58494)
BUG: `DatetimeIndex.is_year_start` and `DatetimeIndex.is_quarter_start` always return False on double-digit frequencies (#58549)

* correct def get_start_end_field, add test, add a note to v3.0.0

* replace regex with to_offset

* replace offset.freqstr.replace with offset.name

* move to_offset from get_start_end_field up

* fixup test_is_yqm_start_end

* rename the argument freqstr in get_start_end_field

* rename the variable freqstr in _field_accessor

* simplify to_offset(freq.freqstr).name

* rename the variable freqstr
Clarify on_bad_lines PyArrow in read_csv (#58666)

Mention `invalid_row_handler` explicitly
CLN: Enforce read_csv(keep_date_col, parse_dates) deprecations (#58622)

* CLN: Enforce read_csv(keep_date_col, parse_dates) deprecations

* Add whatsnew, address other tests

* Remove unnecessary reference

* inline function

* Remove os.remove

* Address html and xml tests

* Typo

* Simplify _process_date_conversion

* Remove _get_complex_date_index

* Remove concat arrays for csv

* Unexfail test

* Remove convert to unicode
CLN: Simplify map_infer_mask (#58483)

* CLN: Simplify map_infer_mask

* fix some tests

* fix tests?

* Fix types?

* fixup annotations
DOC: Clarify allowed values for on_bad_lines in read_csv (#58662)

* Clarify allowed values for on_bad_lines in read_csv

Move the callable options out of the version added/changed tags and improve the flow.

* typo

space before colon

* trim trailing whitespace
DOC: Add examples for pd.read_csv (#58661)

* DOC: Add examples for pd.read_csv

* Add double braces

* fixes

* Add example for date_format

* Consistent use of single quotes

* I forgot

* Add double braces, again..

* Space

* Add useful text
DOC: Remove deprecated delim_whitespace from user guide (#58659)
CI/TST: Don't xfail test_api_read_sql_duplicate_columns for pyarrow=16 and sqlite (#58658)

CI/TST: Don't xfail test_api_read_sql_duplicate_columns for pyarrow=16
DOC: Enforce Numpy Docstring Validation for pandas.IntervalIndex.mid (#58657)

* DOC: add GL08 for pandas.IntervalIndex.mid

* DOC: remove GL08 for pandas.IntervalIndex.mid

* ENH: fix return type in examples section
DOC: Enforce Numpy Docstring Validation for pandas.IntervalIndex.get_loc (#58656)

* DOC: add PR07,RT03,SA01 for pandas.IntervalIndex.get_loc

* DOC: remove PR07,RT03,SA01 for pandas.IntervalIndex.get_loc
DOC: Enforce Numpy Docstring Validation for pandas.IntervalIndex.right (#58650)

* DOC: add GL08 for pandas.IntervalIndex.right

* DOC: remove GL08 for pandas.IntervalIndex.right

* DOC: add GL08 for pandas.IntervalIndex.right

* DOC: add GL08 for pandas.IntervalIndex.right
DOC: Enforce Numpy Docstring Validation for pandas.Interval (#58649)

DOC: changed Paramters to Attributes
DOC: Enforce Numpy Docstring Validation for pandas.api.indexers.FixedForwardWindowIndexer (#58652)

* DOC: add PR01,SA01 for pandas.api.indexers.FixedForwardWindowIndexer

* DOC: add PR01,SA01 for pandas.api.indexers.FixedForwardWindowIndexer

* DOC: remove PR01,SA01 for pandas.api.indexers.FixedForwardWindowIndexer
ENH: Add support for reading 110-format Stata dta files (#58044)

* ENH: Add support for reading 110-format Stata dta files

* Add whatsnew note to v3.0.0.rst

* Add a test data file containing value labels

* Compare version number inclusively when determining whether to use old or new typlist version

* Add a big-endian version of the test data set
BUG/PERF: groupby.transform with unobserved categories (#58084)
DEPR: remove deprecated internals names (#58037)

* DEPR: remove deprecated internals names

* mypy fixup
TST: Add test for regression in `groupby` with tuples yielding MultiIndex (#58630)

* Implement test for GH #21340

* minor fixup

* Lint contribution

* Make spacing consistent

* Lint

* Remove duplicate column construction

* Avoid DeprecationWarning by setting include_groups=False in apply

---------

Co-authored-by: Jason Mok <jasonmok@Jasons-MacBook-Air-4.local>
DOC: Improve docstrings for Index.empty, Index.view and Index.names (#58642)

* DOC: Improve docstrings for Index.empty, Index.view and Index.names

* pre-commit fixes
BLD, TST: Build and test Pyodide wheels for `pandas` in CI (#57896)

* Create initial Pyodide workflow

* Do not import pandas folder from the repo

* Install hypothesis for testing

* Add pytest decorator to skip tests on WASM

* Skip `time.tzset()` tests on WASM platforms

* Skip file system access tests on WASM

* Skip two more tzset test failures

* Skip two more FS failures on WASM

* Resolve last two tzset failures on WASM

* Add a `WASM` constant for Emscripten platform checks

* Fix floating point imprecision with `np.timedelta64`

* Mark tz OverflowError as xfail on WASM

* Try to fix OverflowError with date ranges

* Move job to unit tests workflow, withdraw env vars

* Fix up a few style errors, use WASM variable

* Bump Pyodide to `0.25.1`

See https://github.com/pyodide/pyodide/pull/4654 for
more discussion. This commit resolves a build error
coming from the `pyodide build` command which
broke due to a new `build` release by PyPA.

* Use shorter job name

* Skip test where warning is not raised properly

* Don't run `test_date_time` loc check on WASM

* Don't run additional loc checks in `test_sas7bdat`

* Disable WASM OverflowError

* Skip tests requiring fp exception support

* xfail tests that require stricter tolerances

* xfail test where `OverflowError`s are received

* Remove upper-pin from `pydantic`

* Better skip messages via `pytest.skipif` decorator

* Import `WASM` var via public API where possible

* Unpin `pytest` for Pyodide job

* Add reason attr when using boolean to skip test

* Don't xfail, skip tests that bring `OverflowError`s

* Skip timedelta test that runs well only on 64-bit

* Skip tests that use `np.timedelta64`

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
CLN: callable to Series.iloc returning a tuple (#58626)

* CLN: callable to Series.iloc returning a tuple

* undo other change

* concat string

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: William Ayd <william.ayd@icloud.com>

---------

Co-authored-by: William Ayd <william.ayd@icloud.com>
TST: Skip test_rolling_var_numerical_issues on riscv64 platforms (#58635)

The test is failing on riscv64.  The failure is reproducible under
qemu and on real hardware (VisionFive 2).

Updates #38921
DOC: Enforce Numpy Docstring Validation for pandas.Series.dt.daysinmonth and pandas.Series.dt.days_in_month (#58637)

* DOC: add SA01 for pandas.Series.dt.daysinmonth

* DOC: remove SA01 for pandas.Series.dt.daysinmonth

* DOC: remove SA01 for pandas.Series.dt.days_in_month
DOC: Enforce Numpy Docstring Validation for pandas.tseries.offsets.Week.name (#58634)

* DOC: add SA01 for tseries kwds methods

* DOC: remove SA01 for tseries kwds methods
DOC: Enforce Numpy Docstring Validation for pandas.tseries.offsets.Week.name (#58633)

* DOC: add SA01 for tseries name methods

* DOC: add SA01 for tseries name methods

* DOC: remove SA01 for tseries name methods
DOC: Enforce Numpy Docstring Validation for pandas.Timestamp.utcnow (#58629)

* DOC: add SA01 pandas.Timestamp.utcnow

* DOC: remove SA01 pandas.Timestamp.utcnow

* DOC: add SA01 to nattype
DOC: Enforce Numpy Docstring Validation for pandas.Series.mode (#58627)

* DOC: remove SA01 for pandas.Series.mode

* DOC: remove SA01 for pandas.Series.mode
DOC: Enforce Numpy Docstring Validation for pandas.Timestamp.as_unit and pandas.Timedelta.as_unit (#58609)

* DOC: add SA01 for pandas.Timestamp.as_unit

* DOC: remove SA01 for pandas.Timestamp.as_unit

* DOC: add SA01 for pandas.Timedelta.as_unit

* DOC: remove SA01 for pandas.Timedelta.as_unit

* DOC: remove SA01 for pandas.Timedelta.as_unit
CLN: Change Categorical.map(na_action=) default to None (#58625)
CLN: Remove deprecated read_*(date_parser=) (#58624)
CLN: Remove deprecated read_csv(infer_datetime_format=) (#58620)
Enforce Numpy Docstring Validation for  pandas.IntervalIndex.contains and pandas.arrays.IntervalArray.contains (#58618)

* DOC: add RT03 for interval contains method

* DOC: remove RT03 for interval contains method
Enforce Numpy Docstring Validation for pandas.Series.mod (#58619)

* DOC: add PR07 for pandas.Series.mod

* DOC: remove PR07 for pandas.Series.mod
DOC: Enforce Numpy Docstring Validation for pandas.api.extensions.register_extension_dtype (#58615)

* DOC: add PR01,SA01 for pandas.api.indexers.BaseIndexer

* DOC: remove PR01,SA01 for pandas.api.indexers.BaseIndexer
BUG: Fix arrow extension array assignment by repeated key (#58616)

* Failing test_setitem_integer_array_with_repeats

* Arrow ext: fix assignment by repeated key

* Update whatsnew/v3.0.0.rst

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
CLN: Enforce rolling/expanding.quantile(quantile=) keyword (#58605)
TST: Reduce some testing data sizes (#58617)
Updated the indexing.rst for Issue 58583 (#58607)

* Adding check on integer value of periods issue#56607

* Adding check on integer value of the periods issue#56607

* Adding check on integer value of the periods issue#56607

* Added validation check to Series.diff,updated testcase and whatsnew

* Updated whatsnew

* Updated whatsnew

* Update doc/source/whatsnew/v2.3.0.rst

Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>

* Updated whatsnew with new comment

* Update doc/source/whatsnew/v2.3.0.rst

Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>

* Update doc/source/whatsnew/v2.3.0.rst

Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>

* Updated the Documentation for Slicing with labels for .loc()

---------

Co-authored-by: Thomas Li <47963215+lithomas1@users.noreply.github.com>
DOC: Enforce Numpy Docstring Validation for pandas.api.extensions.register_extension_dtype (#58614)

* DOC: remove SA01 for pandas.api.extensions.register_extension_dtype

* DOC: remove SA01 for pandas.api.extensions.register_extension_dtype

* DOC: add SA01 for pandas.api.extensions.register_extension_dtype
DOC: Enforce Numpy Docstring Validation for pandas.tseries copy methods (#58610)

* DOC: add SA01 for tseries copy methods

* DOC: remove SA01 for tseries copy methods
DOC: Enforce Numpy Docstring Validation for pandas.IntervalIndex.closed and pandas.arrays.IntervalArray.closed (#58608)

* DOC: add SA01 for pandas.IntervalIndex.closed and pandas.arrays.IntervalArray.closed

* DOC: remove SA01 for pandas.IntervalIndex.closed and pandas.arrays.IntervalArray.closed
DOC: Enforce Numpy Docstring Validation for pandas.Series.min (#58606)

* DOC: add RT03 for pandas.Series.min

* DOC: remove RT03 for pandas.Series.min
CLN: Some unit tests (#58599)
TST: Add test for duplicate `by` columns in `groupby.agg` using `pd.namedAgg` and  `asIndex=False` (#58579)

* implement test for GH #58446

* Reformat GH issue comment

* Directly inline as_index=False in groupby call

---------

Co-authored-by: Jason Mok <jasonmok@Jasons-MacBook-Air-4.local>
DOC: Enforce Numpy Docstring Validation for pandas.Index.ravel (#58561)

* DOC: add PR01,RT03 for pandas.Index.ravel

* DOC: remove PR01,RT03 for pandas.Index.ravel
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.swaplevel (#58566)

* DOC: add SA01 for pandas.DataFrame.swaplevel

* DOC: remove SA01 for pandas.DataFrame.swaplevel
[pre-commit.ci] pre-commit autoupdate (#58596)

updates:
- [github.com/astral-sh/ruff-pre-commit: v0.3.4 → v0.4.3](https://github.com/astral-sh/ruff-pre-commit/compare/v0.3.4...v0.4.3)
- [github.com/MarcoGorelli/cython-lint: v0.16.0 → v0.16.2](https://github.com/MarcoGorelli/cython-lint/compare/v0.16.0...v0.16.2)
- [github.com/pre-commit/pre-commit-hooks: v4.5.0 → v4.6.0](https://github.com/pre-commit/pre-commit-hooks/compare/v4.5.0...v4.6.0)
- [github.com/pre-commit/mirrors-clang-format: v18.1.2 → v18.1.4](https://github.com/pre-commit/mirrors-clang-format/compare/v18.1.2...v18.1.4)

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
BUG: Improve error message when casting array of objects to int (#58595)
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.std (#58564)

* DOC: add PR01,RT03,SA01 for pandas.DataFrame.std

* DOC: remove PR01,RT03,SA01 for pandas.DataFrame.std

* DOC: add PR01,RT03,SA01 for pandas.DataFrame.std

* DOC: add Series.std for pandas.DataFrame.std
DOC: Enforce Numpy Docstring Validation for pandas.Index.join (#58560)

* DOC: add PR07,RT03,SA01 for pandas.Index.join

* DOC: remove PR07,RT03,SA01 for pandas.Index.join

* DOC: add PR07,RT03,SA01 for pandas.Index.join

* DOC: fix example output
DOC: shift() of boolean series gives drawdown by an order of magnitude with default filling np.NaN comparing with filling by bool like False  (#58588)

Documentation fix in `generic.py`
line 11715:  For numeric data, ``np.nan`` is used. ->For Boolean and numeric NumPy data types, ``np.nan`` is used.
DOC: Fix minor grammatical typo in `core/series.py` docstring. (#58587)

Minor typo fix in `core/series.py`

Fix minor grammatical typo in `core/series.py` ("is build with" -> "is built with")
DOC: Minor fix to docstring formatting for `head()` and `tail()` (#58589)

* Minor fix to docstring formatting

Fix minor inconsistency in docstring formatting for `head()` and `tail()`.

Fix the code formatting for the `n` variable appearing in the docstrings of `head()` and `tail()` so that it is consistent with surrounding uses of the variable.

* Update pandas/core/generic.py

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: Use large_string in string array consistently (#58590)
DOC: Enforce Numpy Docstring Validation for pandas.Index.str and pandas.Series.str (#58562)

* DOC: add PR01,SA01 for pandas.Index.str and pandas.Series.str

* DOC: remove PR01,SA01 for pandas.Index.str and pandas.Series.str
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.sum (#58565)

* DOC: add RT03 for pandas.DataFrame.sum

* DOC: remove redundant space
DOC: Enforce Numpy Docstring Validation for pandas.Series.mul (#58580)

* DOC: add PR07 for pandas.Series.mul

* DOC: remove PR07 for pandas.Series.mul

* DOC: fit summary in single line

* DOC: fit summary in single line
DOC: Enforce Numpy Docstring Validation for pandas.Series.mean (#58574)

* DOC: add more examples

* DOC: add more examples
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.to_markdown (#58567)

* DOC: add SA01 for pandas.DataFrame.to_markdown

* DOC: remove SA01 for pandas.DataFrame.to_markdown
DOC: Enforce Numpy Docstring Validation for pandas.Timestamp (#58550)

* DOC: add PR07,SA01 for pandas.Timestamp

* DOC: remove PR07,SA01 for pandas.Timestamp

* DOC: remove PR07,SA01 for pandas.Timestamp min and max
DOC: Enforce Numpy Docstring Validation for pandas.Index.names (#58563)

* DOC: add GL08 for pandas.Index.names

* DOC: remove GL08 for pandas.Index.names

* DOC: change return type to FrozenList in example
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.var (#58568)

* DOC: add PR01,RT03,SA01 for pandas.DataFrame.var

* DOC: remove PR01,RT03,SA01 for pandas.DataFrame.var

* DOC: add more examples
DOC: Enforce Numpy Docstring Validation for pandas.Interval.right pandas.Interval.left pandas.Interval.closed (#58571)

* DOC: add SA01 for pandas.Interval.closed

* DOC: remove SA01 for pandas.Interval.closed

* DOC: add SA01 for pandas.Interval.closed

* DOC: add SA01 for pandas.Interval.left

* DOC: remove SA01 for pandas.Interval.left

* DOC: add SA01 for pandas.Interval.right

* DOC: remove SA01 for pandas.Interval.right
DOC: Enforce Numpy Docstring Validation for pandas.Series.median (#58575)

* DOC: add RT03,SA01 for pandas.Series.median

* DOC: remove RT03,SA01 for pandas.Series.median
DOC: Enforce Numpy Docstring Validation for pandas.Series.max (#58573)

* DOC: add RT03 for pandas.Series.max

* DOC: remove RT03 for pandas.Series.max
DOC: Enforce Numpy Docstring Validation for pandas.Interval.mid (#58572)

* DOC: add SA01 for pandas.Interval.mid

* DOC: remove SA01 for pandas.Interval.mid
DOC: Improve convert_dtypes's docstring (#58558)

* DOC: Improve convert_dtypes's docstring

* Make summary 1 line
DOC: Fix SA01 Errors (#58556)

* Fix SA01 errors

* Fix SA01 errors
DEPS: Unpin docutils (#58413)

* DEPS: Unpin docutils

* Address errors

* Add backtick
CLN: enforce the deprecation of exposing blocks in core.internals  (#58467)

* CLN: enforce the deprecation of exposing blocks in core.internals

* remove the function __getattr__, and entries from __all__

* fix mypy error

* add a note to v3.0.0

* skip parquet tests for minimum Pyarrow version

* fixup test_basic

* fix pre-commit error

* skip pyarrow=10.0.1 in test_parquet.py

* fix mypy error

* fix pre-commit error

* fixup test_parquet.py

* fix pre-commit error

* fixup test_parquet.py

* replacee pytest.skip with pytest.importorskip

* skip pyarrow '10.0.1'
BUG: Implement fillna(..., limit=x) for EAs (#58249)

* BUG: Implement fillna(..., limit=x) for EAs

* Comments

* type ignores

* Update doc/source/whatsnew/v3.0.0.rst

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Enforce Numpy Docstring Validation for pandas.Timestamp.day_of_week (#58533)

* DOC: add SA01 for pandas.Timestamp.day_of_week

* DOC: remove SA01 for pandas.Timestamp.day_of_week

* DOC: remove SA01 for pandas.Timestamp.dayofweek

* DOC: add SA01 for pandas.Timestamp.day_of_week
Fix SA01 errors for Series.dtype, Series.is_unique, Series.shape (#58542)

* DOC: fix SA01 error for Series.dtype

* DOC: fix SA01 error for Series.is_unique

* DOC: fix SA01 error for Series.shape
DOC: Enforce Numpy Docstring Validation for pandas.Series (#58537)

* add see also section for pandas.Series.cat

* fix docstring errors for pandas.Series.__iter__

* remove 'pandas' from see also

* Improve See Also

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Improve See Also

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Fix Docstring Errors for pandas.api.extensions.ExtensionArray (#58540)

* fix line too long

* fix docstring errors for pandas.api.extensions.ExtensionArray._accumulate

* fix SA01 error for pandas.api.extensions.ExtensionArray._concat_same_type

* fix PR07 error for pandas.api.extensions.ExtensionArray._concat_same_type

* fix docstring issues for pandas.api.extensions.ExtensionArray._formatter

* delete extra lines

* docstring errors fixed for pandas.api.extensions.ExtensionArray._from_sequence
DOC: Enforce Numpy Docstring Validation for pandas.Timestamp.day_of_year (#58534)

* DOC: add SA01 for pandas.Timestamp.day_of_year

* DOC: remove SA01 for pandas.Timestamp.day_of_year

* DOC: remove SA01 for pandas.Timestamp.dayofyear
DOC: Enforce Numpy Docstring Validation for pandas.Timestamp.day_name (#58532)

* DOC: add SA01 for pandas.Timestamp.day_name

* DOC: remove SA01 for pandas.Timestamp.day_name

* DOC: add SA01 to nattype
DOC: Enforce Numpy Docstring Validation for pandas.IntervalDtype.subtype (#58522)

* DOC: add SA01 for pandas.IntervalDtype.subtype

* DOC: remove SA01 for pandas.IntervalDtype.subtype
DOC: Enforce Numpy Docstring Validation for pandas.Timestamp.days_in_month (#58535)

* DOC: add SA01 for pandas.Timestamp.days_in_month

* DOC: remove SA01 for pandas.Timestamp.days_in_month
DOC: Enforce Numpy Docstring Validation for pandas.Series (#58525)

* DOC: add SA01 for pandas.Series

* DOC: remove SA01 for pandas.Series
DOC: Enforce Numpy Docstring Validation for pandas.Series.cat.codes (#58527)

* DOC: add SA01 for pandas.Series.cat.codes

* DOC: remove SA01 for pandas.Series.cat.codes
DOC: Enforce Numpy Docstring Validation for pandas.Series.dt.days (#58528)

* DOC: remove SA01 for pandas.Series.dt.days

* DOC: remove SA01 for pandas.TimedeltaIndex.days
DOC: remove concat dict sortedness statement (#58518)

* DOC: remove concat dict sortedness statement

* DOC: simplify objs order comment
DOC: Enforce Numpy Docstring Validation for pandas.Series.backfill (#58526)

DOC: remove  -i pandas.Series.backfill PR01,SA01
DOC: Enforce Numpy Docstring Validation for pandas.IntervalDtype (#58521)

* DOC: add PR01,SA01 in pandas.IntervalDtype

* DOC: remove PR01,SA01 in pandas.IntervalDtype
DOC: Enforce Numpy Docstring Validation for pandas.Index.get_loc (#58509)

* DOC: add PR07,RT03,SA01 in pandas.Index.get_loc

* DOC: remove PR07,RT03,SA01 in pandas.Index.get_loc
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.sem (#58513)

* DOC: add PR01,RT03,SA01 in pandas.DataFrame.sem

* DOC: remove PR01,RT03,SA01 in pandas.DataFrame.sem
BUG: as_index=False can return a MultiIndex in groupby.apply (#58369)
REF: Read excel parse refactor (#58497)
DOC: Enforce Numpy Docstring Validation for pandas.Int (#58511)

* DOC: add SA01 for Int16Dtype,Int32Dtype,Int64Dtype,Int8Dtype

* DOC: remove SA01 for Int16Dtype,Int32Dtype,Int64Dtype,Int8Dtype

* DOC: remove SA01 for Int16Dtype,Int32Dtype,Int64Dtype,Int8Dtype

* DOC: change description to n-bit nullable integer type
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.sparse (#58515)

* DOC: remove PR01 in pandas.DataFrame.sparse

* DOC: remove PR01 in pandas.DataFrame.sparse
DOC: Enforce Numpy Docstring Validation for pandas.Index.get_indexer_for (#58507)

* DOC: add PR01,SA01 in pandas.Index.get_indexer_for

* DOC: remove PR01,SA01 in pandas.Index.get_indexer_for
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.skew (#58514)

DOC: remove RT03,SA01 in pandas.DataFrame.skew
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.prod (#58512)

* DOC: add RT03 in pandas.DataFrame.prod

* DOC: remove RT03 in pandas.DataFrame.prod

* DOC: remove RT03 in pandas.DataFrame.product

* DOC: add RT03 in pandas.DataFrame.prod
DOC: Enforce Numpy Docstring Validation for pandas.Index.putmask (#58510)

* DOC: add PR01,RT03 in pandas.Index.putmask

* DOC: remove PR01,RT03 in pandas.Index.putmask
DOC: Enforce Numpy Docstring Validation for pandas.Index.get_indexer_non_unique (#58508)

* DOC: remove PR07,SA01 in pandas.Index.get_indexer_non_unique

* DOC: remove PR07,SA01 in pandas.Index.get_indexer_non_unique
DOC: Enforce Numpy Docstring Validation for pandas.Index.get_indexer (#58506)

* DOC: add PR07,SA01 in pandas.Index.get_indexer

* DOC: remove PR07,SA01 in pandas.Index.get_indexer

* DOC: remove PR07,SA01 in pandas.IntervalIndex.get_indexer

* DOC: remove PR07,SA01 in pandas.MultiIndex.get_indexer
BUG: hashing read only object categories raises (#58481)
PERF: MultiIndex._engine use smaller dtypes (#58411)

* PERF: MultiIndex._engine use smaller dtypes

* Move offsets downcasting to MultiIndex._engine

* Remove unused import uint64_t
ENH: Allow parameter  min_periods in DataFrame.corrwith() (#58231)

* Testing

* Testing

* enhance test case

* add test

* testing

* add

* add test

* enhance

* add

* add

* add

* add

* add

* add

* enhance

* enhance

* enhance

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* test

* Update test_cov_corr.py

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
Fix PR07,RT03,SA01 errors for Index.append, Index.difference (#58453)

* Fix errors for Index.append

* Fixed errors for Index.difference
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.attime (#58492)

* DOC: add SA01PR01 in pandas.DataFrame.at_time

* DOC: remove PR01 in pandas.DataFrame.at_time

* DOC: remove pandas.Series.at_time
Remove deprecated plot_date calls (#58484)

* Remove deprecated plot_date calls

These were deprecated in Matplotlib 3.9.

* [pre-commit.ci] auto fixes from pre-commit.com hooks

for more information, see https://pre-commit.ci

---------

Co-authored-by: pre-commit-ci[bot] <66853113+pre-commit-ci[bot]@users.noreply.github.com>
DOC: Enforce Numpy Docstring Validation for pandas.Index.view (#58486)

* DOC: add GL08 for pandas.Index.view

* DOC: remove GL08 for pandas.Index.view

* DOC: fix examples in docstring

* DOC: fix examples in docstring

* DOC: fix examples in docstring

* DOC: fix examples in docstring

* DOC: fix examples in docstring
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.kurt and pandas.DataFrame.kurtosis (#58493)

DOC: fix ruff issues
DOC: Enforce Numpy Docstring Validation for pandas.DataFrame.__dataframe__ (#58491)

* DOC: add SA01 in pandas.DataFrame.__dataframe__

* DOC: remove SA01 in pandas.DataFrame.__dataframe__
DOC: Enforce Numpy Docstring Validation for pandas.Index.sliece_indexer (#58490)

* DOC: add PR07,RT03 in pandas.Index.slice_indexer

* DOC: add SA01 in pandas.Index.slice_indexer

* DOC: remove pandas.Index.slice_indexer
DOC: Enforce Numpy Docstring Validation for pandas.Index.take (#58489)

* DOC: add PR01,PR07 for pandas.Index.take

* DOC: remove PR01,PR07 for pandas.Index.take
DOC: ficing PR01 and SA01 issue for Index: Identical (#58442)

* DOC: ficing PR01 and SA01 issue for Index: Identical

* fixing EXpected to fail issue
preserve index in list accessor (#58438)

* preserve index in list accessor

* gh reference

* explode fix

* cleanup

* improve test

* Update v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* f

---------

Co-authored-by: Rohan Jain <rohanjain@microsoft.com>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: fixing RT03 erros for Index: duplicated and nunique (#58432)

* DOC: fixing RT03 erros for Index: duplicated and nunique

* deleting it lines from code_checks

* fixing EXPECTED TO FAIL, BUT NOT FAILING error

* fixing code_checks issue

* fixed Expected to fail error
BUG: astype not casting values for dictionary dtype correctly (#58479)

* BUG: astype not casting values for dictionary dtype correctly

* Fixup
Fix PR07,RT03,SA01 errors for Index.union, Index.symmetric_difference (#58457)

* Fix PR07,RT03,SA01 errors for Index.union, Index.symmetric_difference

* Update pandas/core/indexes/base.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DEPR: Series setitem/getitem treating ints as positional (#58089)

* DEPR: Series setitem/getitem treating ints as positional

* 32bit build compat

* update exception message for numpy 2
`pd.eval`: `Series` names are now preserved even for `"numexpr"` engine. (#58437)

* Eval: Series names are preserved for numexpr

Series names are now preserved even when using
numexpr engine. Making the behavior consistent
with python engine.

* Update doc/source/whatsnew/v3.0.0.rst

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/computation/align.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/tests/computation/test_eval.py

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
DOC: Update Categorical/CategoricalDtype methods' docstring to pass docstring validation (#58079)

* Improve docstring for some methods in categorical/categoricaldtype

* Remove cat.ordered

---------

Co-authored-by: Abdulaziz Aloqeely <52792999+DAzVise@users.noreply.github.com>
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeIndex.snap (#58477)

* DOC: add PR01,RT03 for pandas.DatetimeIndex.snap

* DOC: remove pandas.DatetimeIndex.snap
TST: Add tests for #55431 (#58367)

* Add tests for #55431

* Fix inconsistent pandas namespace usage

* Fix inconsistent pandas namespace usage again

* Temp disable part of test potentialy due to known bug

* Remove unnecessary comments and adjust implementation

---------

Co-authored-by: Jason Mok <jasonmok@Jasons-Air-4.attlocal.net>
Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
BUG: Series.plot(kind="pie") does not respect ylabel argument (#58254)

Co-authored-by: Abel Tavares <abel.tavares@ctw.bmwgroup.com>
PERF: RangeIndex.value_counts/searchsorted/to_numpy (#58376)

* Add RangeIndex.value_counts,searchsorted,to_numpy

* Undo engine stuff

* Finish searchsorted, add wahtsnew

* Remove old to_numpy implementation

* Add whatsnew for to_numpy

* add whatsnew number

* Fix typing
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeIndex.indexer_at_time (#58476)

* DOC: add PR01,RT03 for pandas.DatetimeIndex.indexer_at_time

* DOC: remove pandas.DatetimeIndex.indexer_at_time
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeIndex.to_period (#58440)

* DOC: add RT03 for pandas.DatetimeIndex.to_period

* DOC: remove RT03 for pandas.DatetimeIndex.to_period

* DOC: remove RT03 for pandas.Series.dt.to_period
Fix PR07,RT03,SA01 errors for Index.insert, Index.intersection (#58456)

* Fix PR07,RT03,SA01 errors for Index.insert, Index.intersection

* Update pandas/core/indexes/base.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/indexes/base.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

* Update pandas/core/indexes/base.py

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
REF: move MaskedArray subclass attributes to dtypes (#58423)
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeIndex.to_pydatetime (#58441)

* DOC: add RT03,SA01 for pandas.DatetimeIndex.to_pydatetime

* DOC: remove RT03,SA01 for pandas.DatetimeIndex.to_pydatetime
Fix errors for Index.drop, Index.reindex (#58454)
TYP: misc return annotations (#58468)
DOC: fix PR07 and SA01 issue for Index: copy and get_slice_bound (#58443)

* DOC: fix PR07 and SA01 issue for Index: copy and get_slice_bound

* ficing line to long error
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeIndex.std (#58439)

* DOC: add PR01,RT03 for pandas.DatetimeIndex.std

* DOC: remove PR01,RT03 for pandas.DatetimeIndex.std
DOC: Fix RT03 and SA01 errors for Index.droplevel, Index.dropna (#58433)

* Fix RT03 and SA01 errors for Index.droplevel, Index.dropna

* Remove line from code_checks.sh
DOC: Fix Index.inferred type SA01 and Index.slice_locs RT03 errors (#58435)

Fix Index.inferred type SA01 and Index.slice_locs RT03 errors
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeTZDtype (#58402)

* DOC: add SA01 to pandas.DatetimeTZDtype

* DOC: remove pandas.DatetimeTZDtype

* DOC: add .

* DOC: delete tz and tz_convert
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeIndex.freqstr (#58309)

* DOC: add SA01 to pandas.DatetimeIndex.freqstr

* DOC: remove pandas.DatetimeIndex.freqstr

* DOC: removed pandas.PeriodIndex.freqstr
DOC: ficing RT03 errors for Index: drop_duplicates and memory_usage (#58434)
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeTZDtype.tz (#58401)

* DOC: add SA01 to pandas.DatetimeTZDtype.tz

* DOC: remove pandas.DatetimeTZDtype.tz
DOC: fixing SA01 error for Index: T and empty (#58430)

* DOC: fixing SA01 error for Index: T and empty

* fixing EXPECTED TO FAIL, BUT NOT FAILING error
DOC: Fix "versionadded" for case_when (#58426)

Fix "versionadded" for case_when

Tag was on parameter instead of function itself.
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeIndex.indexer_between_time (#58415)

* DOC: add RT03 to pandas.DatetimeIndex.indexer_between_time

* DOC: remove pandas.DatetimeIndex.indexer_between_time
DOC: Fix RT03 errors for DataFrame.infer_objects, DataFrame.hist, DataFrame.to_parquet (#58429)

* Fix RT03 errors

* Fix RT03 errors
DOC: Fix DataFrame.reorder_levels SA01 error (#58431)
[Typing] Enhance the WriteExcelBuffer protocol to be compatible with io.BinaryIO (#58422)

TYP: Enhance the WriteExcelBuffer protocol to be compatible with io.BinaryIO
DOC: Enforce Numpy Docstring Validation for pandas.DatetimeIndex.tzconvert (#58416)

* DOC: remove pandas.DatetimeIndex.tz_convert

* DOC: add RT03 to pandas.DatetimeIndex.tz_convert

* DOC: removed RT03 from pandas.Series.dt.tz_convert
DOC: Enforce Numpy Docstring Validation for pandas.Index.fillna (#58417)

* DOC: add RT03 to pandas.Index.fillna

* DOC: remove pandas.Index.fillna
DOC: Enforce Numpy Docstring Validation for pandas.Index.item (#58400)

* DOC: add SA01 to pandas.Index.item

* DOC: remove pandas.Index.item

* DOC: remove pandas.Series.item

---------

Co-authored-by: aBiR1D <abirdas2048@gmail.com>
REF: use maybe_convert_objects in pd.array (#56484)

* REF: use maybe_convert_objects in pd.array

* lint fixups

* Update pandas/_libs/lib.pyx

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>

---------

Co-authored-by: Matthew Roeschke <10647082+mroeschke@users.noreply.github.com>
